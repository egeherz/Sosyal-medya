<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>HESAPLARIM - EGE DENƒ∞Z</title>
<link rel="icon" href="favicon.png" type="image/png" />
<!-- Poppins Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet" />
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

<style>
  /* Reset & base */
  * {
    margin:0; padding:0; box-sizing: border-box;
  }
  html, body {
    height:100%; width:100%;
    font-family: 'Poppins', sans-serif;
    background: url('https://i.imgur.com/yslsfnW.jpeg') no-repeat center center fixed;
    background-size: cover;
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 20px 90px;
    overflow-x: hidden;
  }

  /* Tema 2 */
  body.theme2 {
    background: url('https://i.imgur.com/0R4Zsdr.jpeg') no-repeat center center fixed;
    background-size: cover;
  }

  /* Ana container */
  main {
    margin-top: 40px;
    max-width: 420px;
    width: 100%;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 22px;
  }

  /* Butonlar ana 2x2 grid */
  main button, main a {
    background: linear-gradient(45deg, #ff004f, #6600ff, #00e5ff, #ff004f);
    background-size: 300% 300%;
    color: white;
    border-radius: 18px;
    padding: 16px 0;
    font-weight: 700;
    font-size: 1.1rem;
    box-shadow:
      0 0 10px #ff004f,
      0 0 18px #6600ff,
      0 0 24px #00e5ff,
      inset 0 0 10px #6600ff;
    cursor: pointer;
    text-align: center;
    user-select: none;
    position: relative;
    transition: all 0.3s ease;
    border: none;
  }

  main button i, main a i {
    margin-right: 10px;
    font-size: 1.8rem;
    text-shadow: 0 0 10px #fff;
    vertical-align: middle;
  }

  main button:hover, main a:hover {
    transform: scale(1.05) rotate(2deg);
    box-shadow:
      0 0 18px #ff005f,
      0 0 35px #7700ff,
      0 0 44px #00e5ff,
      inset 0 0 15px #7700ff;
    text-shadow: 0 0 25px #fff;
  }

  /* Ana sayfa linkleri */
  main a {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Beta etiketi modal ba≈ülƒ±k */
  #playlistModal header {
    font-weight: 700;
    font-size: 1.3rem;
    padding: 20px 20px 12px;
    border-bottom: 2px solid rgba(255,255,255,0.2);
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #ff005f;
    user-select: none;
  }
  #playlistModal header .beta-tag {
    font-weight: 700;
    color: #ff004f;
  }

  /* Modal stil */
  #playlistModal {
    width: 90vw;
    max-width: 480px;
    border-radius: 16px;
    background: rgba(0,0,0,0.85);
    color: white;
    border: 1px solid rgba(255,255,255,0.2);
    box-shadow: 0 0 40px #ff004f, 0 0 80px #6600ff inset;
    padding-bottom: 20px;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: none;
    flex-direction: column;
    z-index: 1000;
  }

  #playlistModal.show {
    display: flex;
  }

  /* Kapat butonu modal √ºst saƒü */
  #closeModalBtn {
    background: transparent;
    border: none;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
    transition: color 0.3s ease;
  }
  #closeModalBtn:hover {
    color: #ff004f;
  }

  /* ≈ûarkƒ± listesi scroll */
  #songList {
    overflow-y: auto;
    max-height: 320px;
    margin: 16px 20px 0 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  /* ≈ûarkƒ± listesi butonlarƒ± */
  #songList button {
    background: #111;
    border-radius: 12px;
    border: 1px solid #444;
    padding: 12px 16px;
    font-weight: 600;
    cursor: pointer;
    color: #eee;
    text-align: left;
    box-shadow: 0 0 12px rgba(0,255,255,0.25);
    transition: background 0.3s ease, color 0.3s ease;
  }
  #songList button:hover {
    background: linear-gradient(45deg, #ff004f, #6600ff, #00e5ff);
    color: white;
    box-shadow:
      0 0 14px #ff005f,
      0 0 26px #7700ff,
      0 0 32px #00e5ff;
  }

  /* Bilgi metni */
  #currentTrackName {
    margin: 16px 0 6px 0;
    font-weight: 600;
    text-align: center;
    font-size: 1rem;
    min-height: 1.3rem;
  }

  /* Player container */
  #playerUI {
    margin-top: 30px;
    width: 100%;
    max-width: 420px;
    background: rgba(0,0,0,0.6);
    border-radius: 16px;
    padding: 18px 24px;
    display: none; /* Ba≈üta gizli */
    flex-direction: column;
    box-shadow:
      0 0 20px #00e5ff,
      inset 0 0 18px #6600ff;
  }

  /* Player √ºst bilgi ve kontroller */
  #playerUI .top-row {
    display: flex;
    justify-content: center;
    font-weight: 700;
    font-size: 1.15rem;
    color: #00e5ff;
    user-select: none;
  }

  /* Kontrol butonlarƒ± container */
  #playerUI .controls {
    margin-top: 16px;
    display: flex;
    justify-content: center;
    gap: 28px;
  }

  /* Her buton */
  #playerUI button.control-btn {
    background: linear-gradient(45deg, #ff004f, #6600ff, #00e5ff);
    background-size: 300% 300%;
    border: none;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    box-shadow:
      0 0 12px #ff004f,
      0 0 24px #6600ff,
      0 0 36px #00e5ff;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  #playerUI button.control-btn:hover {
    box-shadow:
      0 0 20px #ff005f,
      0 0 36px #7700ff,
      0 0 44px #00e5ff;
    transform: scale(1.1);
  }

  /* ƒ∞lerleme √ßubuƒüu container */
  #progressContainer {
    margin-top: 22px;
    background: #222;
    border-radius: 12px;
    cursor: pointer;
    height: 14px;
    width: 100%;
    position: relative;
    box-shadow: inset 0 0 10px #00e5ff;
    user-select: none;
  }

  /* Dolan kƒ±sƒ±m */
  #progress {
    height: 100%;
    background: linear-gradient(45deg, #ff004f, #6600ff, #00e5ff);
    border-radius: 12px;
    width: 0%;
    transition: width 0.15s linear;
  }

  /* K√º√ß√ºk tutama√ß */
  #progressThumb {
    position: absolute;
    top: 50%;
    left: 0%;
    transform: translate(-50%, -50%);
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: #00e5ff;
    box-shadow: 0 0 12px #00e5ff;
    cursor: pointer;
  }

  /* S√ºre g√∂sterimi */
  #timeDisplay {
    margin-top: 10px;
    text-align: center;
    font-weight: 600;
    user-select: none;
    font-size: 0.95rem;
    color: #00e5ff;
  }

  /* Tema deƒüi≈ütir butonu - saƒü alt */
  #themeToggle {
    position: fixed;
    bottom: 15px;
    right: 15px;
    background: linear-gradient(45deg, #ff004f, #6600ff, #00e5ff);
    background-size: 300% 300%;
    border: none;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    box-shadow:
      0 0 12px #ff004f,
      0 0 24px #6600ff,
      0 0 36px #00e5ff;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
    z-index: 1100;
    transition: all 0.3s ease;
  }
  #themeToggle:hover {
    box-shadow:
      0 0 20px #ff005f,
      0 0 36px #7700ff,
      0 0 44px #00e5ff;
    transform: scale(1.1);
  }

  /* Responsive */
  @media (max-width: 520px) {
    main {
      max-width: 100%;
      gap: 16px;
    }
    main button, main a {
      font-size: 1rem;
      padding: 14px 0;
    }
    main button i, main a i {
      font-size: 1.4rem;
      margin-right: 8px;
    }
    #playerUI button.control-btn {
      width: 40px;
      height: 40px;
      font-size: 1.25rem;
    }
    #progressThumb {
      width: 14px;
      height: 14px;
    }
  }
</style>
</head>
<body>

<main>
  <a href="https://instagram.com/10110310132100101110105l22" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i>Instagram</a>
  <a href="https://t.me/l0110310132100101110105122" target="_blank" aria-label="Telegram"><i class="fab fa-telegram"></i>Telegram</a>
  <a href="https://www.tiktok.com/@010169716901l7" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i>TikTok</a>
  <button id="openPlaylistBtn" aria-haspopup="dialog" aria-expanded="false" aria-controls="playlistModal"><i class="fas fa-music"></i>≈ûarkƒ± Listesi</button>
</main>

<!-- Player UI -->
<section id="playerUI" role="region" aria-live="polite" aria-label="M√ºzik √ßalar">
  <div id="currentTrackName">≈ûarkƒ± ismine tƒ±klayarak dinlemeye ba≈ülayabilirsiniz. Daha fazla eklenecektir ü•≥.</div>
  <div id="progressContainer" role="slider" aria-valuemin="0" aria-valuemax="100" tabindex="0" aria-valuenow="0" aria-label="≈ûarkƒ± ilerleme √ßubuƒüu">
    <div id="progress"></div>
    <div id="progressThumb"></div>
  </div>
  <div id="timeDisplay" aria-live="off">00:00 / 00:00</div>
  <div class="controls" role="group" aria-label="M√ºzik kontrolleri" style="margin-top:16px; justify-content:center;">
    <button id="prevBtn" class="control-btn" aria-label="√ñnceki ≈üarkƒ±"><i class="fas fa-backward"></i></button>
    <button id="playPauseBtn" class="control-btn" aria-label="Oynat/Durdur"><i class="fas fa-play"></i></button>
    <button id="stopBtn" class="control-btn" aria-label="Durdur"><i class="fas fa-stop"></i></button>
    <button id="nextBtn" class="control-btn" aria-label="Sonraki ≈üarkƒ±"><i class="fas fa-forward"></i></button>
  </div>
</section>

<!-- ≈ûarkƒ± Listesi Modal -->
<div id="playlistModal" role="dialog" aria-modal="true" aria-labelledby="playlistTitle" aria-describedby="playlistDesc" tabindex="-1">
  <header>
    <div id="playlistTitle">≈ûarkƒ± Listesi <span class="beta-tag">Beta ‚ö†Ô∏è</span></div>
    <button id="closeModalBtn" aria-label="Kapat">&times;</button>
  </header>
  <input type="text" id="searchSongs" placeholder="≈ûarkƒ± ara..." aria-label="≈ûarkƒ± ara" style="margin: 10px 20px; padding:8px 12px; border-radius: 10px; border:none; width:calc(100% - 40px); font-size:1rem;">
  <div id="songList" tabindex="0" aria-label="≈ûarkƒ± listesi"></div>
</div>

<button id="themeToggle" aria-pressed="false" aria-label="Tema deƒüi≈ütir"><i class="fas fa-adjust"></i></button>

<!-- Audio element -->
<audio id="bgMusic" preload="auto"></audio>

<script>
  (() => {
    const songs = [
      {name:"Juice WRLD - Let Me Know", src:"Juice WRLD Let Me Know (I Wonder Why Freestyle) (Official Audio).mp3"},
      {name:"Doja Cat - Streets", src:"Doja Cat - Streets (Official Audio).mp3"},
      {name:"lliinnee", src:"lliinnee.mp3"},
      {name:"Lana Del Rey - Summertime Sadness", src:"Lana Del Rey - Summertime Sadness (Official Music Video).mp3"},
      {name:"Nicky Jam - Hasta el Amanecer", src:"22. Hasta el Amanecer - Nicky Jam  Video Oficial.mp3"},
      {name:"Amor Na Praia", src:"Amor Na Praia.mp3"},
      {name:"Smezir 2 (Slowed)", src:"smezir 2 (Super Slowed).mp3"},
      {name:"Djo - End Of Beginning", src:"Djo - End Of Beginning (Official Audio).mp3"},
      {name:"Twenty One Pilots - Doubt", src:"twenty-one-pilots-Doubt-_Official-Audio_.mp3"},
      {name:"lil 17th - Mary Jane", src:"lil 17th - Mary Jane.mp3"},
      {name:"XXXTENTACION - MOONLIGHT", src:"XXXTENTACION - MOONLIGHT (OFFICIAL MUSIC VIDEO).mp3"},
      {name:"t.A.T.u. - All The Things She Said", src:"t.A.T.u. - All The Things She Said (Official Music Video).mp3"},
      {name:"Tame Impala - Let It Happen", src:"tame_impala_let_it_happen_mp3_55159.mp3"},
      {name:"Funk - Mi Camino", src:"funk_mi_camino_mp3_55239.mp3"}
    ];

    // Elements
    const bgMusic = document.getElementById('bgMusic');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const stopBtn = document.getElementById('stopBtn');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const progressContainer = document.getElementById('progressContainer');
    const progress = document.getElementById('progress');
    const progressThumb = document.getElementById('progressThumb');
    const timeDisplay = document.getElementById('timeDisplay');
    const currentTrackName = document.getElementById('currentTrackName');
    const playerUI = document.getElementById('playerUI');
    const playlistModal = document.getElementById('playlistModal');
    const openPlaylistBtn = document.getElementById('openPlaylistBtn');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const songListDiv = document.getElementById('songList');
    const searchSongs = document.getElementById('searchSongs');
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;

    let currentIndex = -1;
    let isPlaying = false;
    let isSeeking = false;

    // Load last state from localStorage
    let savedTheme = localStorage.getItem('theme') || 'theme1';
    let savedIndex = parseInt(localStorage.getItem('lastSongIndex'));
    if (savedTheme === 'theme2') {
      body.classList.add('theme2');
      themeToggle.setAttribute('aria-pressed', 'true');
    }
    if (!isNaN(savedIndex) && savedIndex >= 0 && savedIndex < songs.length) {
      currentIndex = savedIndex;
      loadSong(currentIndex);
    }

    // Fill song list (with search filtering)
    function fillSongList(filter = '') {
      songListDiv.innerHTML = '';
      const filteredSongs = songs.filter(s => s.name.toLowerCase().includes(filter.toLowerCase()));
      if(filteredSongs.length === 0){
        songListDiv.innerHTML = '<p style="text-align:center;opacity:0.6;margin-top: 20px;">E≈üle≈üen ≈üarkƒ± bulunamadƒ±.</p>';
        return;
      }
      filteredSongs.forEach((song, idx) => {
        const btn = document.createElement('button');
        btn.textContent = song.name;
        btn.setAttribute('data-index', songs.indexOf(song));
        btn.addEventListener('click', () => {
          playSong(parseInt(btn.getAttribute('data-index')));
          closeModal();
        });
        songListDiv.appendChild(btn);
      });
    }

    fillSongList();

    // Modal open/close
    function openModal() {
      playlistModal.classList.add('show');
      openPlaylistBtn.setAttribute('aria-expanded', 'true');
      searchSongs.value = '';
      fillSongList();
      searchSongs.focus();
    }
    function closeModal() {
      playlistModal.classList.remove('show');
      openPlaylistBtn.setAttribute('aria-expanded', 'false');
      openPlaylistBtn.focus();
    }
    openPlaylistBtn.addEventListener('click', openModal);
    closeModalBtn.addEventListener('click', closeModal);
    playlistModal.addEventListener('keydown', e => {
      if(e.key === "Escape") {
        e.preventDefault();
        closeModal();
      }
    });

    searchSongs.addEventListener('input', () => {
      fillSongList(searchSongs.value);
    });

    // Load song
    function loadSong(index) {
      if(index < 0 || index >= songs.length) return;
      currentIndex = index;
      bgMusic.src = songs[index].src;
      currentTrackName.textContent = songs[index].name;
      localStorage.setItem('lastSongIndex', index);
      showPlayer();
    }

    // Show player UI
    function showPlayer(){
      playerUI.style.display = 'flex';
    }

    // Play song by index
    function playSong(index) {
      if(index === currentIndex && isPlaying){
        // already playing same song
        return;
      }
      loadSong(index);
      bgMusic.play();
      isPlaying = true;
      updatePlayPauseBtn();
      showPlayer();
    }

    // Play/pause toggle
    function togglePlayPause() {
      if(isPlaying){
        bgMusic.pause();
        isPlaying = false;
      } else {
        bgMusic.play();
        isPlaying = true;
      }
      updatePlayPauseBtn();
    }

    // Update play/pause button icon
    function updatePlayPauseBtn(){
      if(isPlaying){
        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
      } else {
        playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
      }
    }

    // Stop music
    function stopMusic(){
      bgMusic.pause();
      bgMusic.currentTime = 0;
      isPlaying = false;
      updatePlayPauseBtn();
    }

    // Next song
    function nextSong(){
      let nextIndex = currentIndex + 1;
      if(nextIndex >= songs.length) nextIndex = 0;
      playSong(nextIndex);
    }

    // Previous song
    function prevSong(){
      let prevIndex = currentIndex - 1;
      if(prevIndex < 0) prevIndex = songs.length - 1;
      playSong(prevIndex);
    }

    // Update progress bar & time
    function updateProgress(){
      if(!isSeeking){
        const percent = (bgMusic.currentTime / bgMusic.duration) * 100 || 0;
        progress.style.width = percent + '%';
        progressThumb.style.left = percent + '%';
        timeDisplay.textContent = formatTime(bgMusic.currentTime) + ' / ' + formatTime(bgMusic.duration);
        progressContainer.setAttribute('aria-valuenow', Math.round(percent));
      }
    }

    // Format seconds to mm:ss
    function formatTime(sec) {
      if (isNaN(sec)) return "00:00";
      const m = Math.floor(sec / 60);
      const s = Math.floor(sec % 60);
      return (m < 10 ? "0" + m : m) + ":" + (s < 10 ? "0" + s : s);
    }

    // Progress bar click / drag
    function seek(e) {
      const rect = progressContainer.getBoundingClientRect();
      let pos = e.clientX - rect.left;
      if(pos < 0) pos = 0;
      if(pos > rect.width) pos = rect.width;
      const percent = pos / rect.width;
      bgMusic.currentTime = percent * bgMusic.duration;
      updateProgress();
    }

    // Drag handlers
    let dragging = false;
    progressContainer.addEventListener('mousedown', e => {
      dragging = true;
      seek(e);
    });
    window.addEventListener('mouseup', e => {
      if(dragging){
        dragging = false;
      }
    });
    window.addEventListener('mousemove', e => {
      if(dragging){
        seek(e);
      }
    });
    // Touch support
    progressContainer.addEventListener('touchstart', e => {
      dragging = true;
      seek(e.touches[0]);
    }, {passive:true});
    window.addEventListener('touchend', e => {
      dragging = false;
    });
    window.addEventListener('touchmove', e => {
      if(dragging){
        seek(e.touches[0]);
      }
    }, {passive:true});

    // Events for buttons
    playPauseBtn.addEventListener('click', togglePlayPause);
    stopBtn.addEventListener('click', stopMusic);
    nextBtn.addEventListener('click', nextSong);
    prevBtn.addEventListener('click', prevSong);

    // When song ends auto next
    bgMusic.addEventListener('ended', nextSong);

    // Update progress periodically
    bgMusic.addEventListener('timeupdate', updateProgress);

    // Theme toggle
    themeToggle.addEventListener('click', () => {
      if(body.classList.contains('theme2')){
        body.classList.remove('theme2');
        localStorage.setItem('theme', 'theme1');
        themeToggle.setAttribute('aria-pressed', 'false');
      } else {
        body.classList.add('theme2');
        localStorage.setItem('theme', 'theme2');
        themeToggle.setAttribute('aria-pressed', 'true');
      }
    });

  })();
</script>

<footer style="position: fixed; bottom: 8px; width: 100%; text-align: center; font-size: 0.9rem; color: rgba(255,255,255,0.7); text-shadow: 0 0 3px #000;">
  ¬© 2025 Ege Deniz. All rights reserved.
</footer>

</body>
</html>
