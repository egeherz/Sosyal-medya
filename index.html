<!DOCTYPE html>
<html lang="tr" dir="ltr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Fragments MÃ¼zik Botu</title>
<style>
  /* Google Fonts Montserrat */
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');

  /* Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body {
    margin: 0; padding: 0;
    font-family: 'Montserrat', sans-serif;
    background: url('https://i.imgur.com/xNOMlPs.jpeg') no-repeat center center fixed;
    background-size: cover;
    color: #e0e0e0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    user-select: none;
    overflow-x: hidden;
  }
  /* Overlay blur */
  body::before {
    content: '';
    position: fixed;
    top: 0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.65);
    backdrop-filter: blur(5px);
    z-index: -1;
  }

  header {
    width: 100%;
    padding: 10px 18px;
    background: rgba(0,0,0,0.7);
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 13px;
    color: #c0c0c0;
    letter-spacing: 0.05em;
  }
  header .logo {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  header .logo img {
    height: 30px;
    width: 30px;
    object-fit: contain;
    filter: drop-shadow(0 0 1px #00f0cc);
    transition: transform 0.3s ease;
  }
  header .logo img:hover {
    transform: rotate(12deg) scale(1.1);
  }
  header .time {
    font-weight: 600;
    font-variant-numeric: tabular-nums;
  }
  header .lang-select {
    background: transparent;
    border: 1.5px solid #00cec9;
    border-radius: 24px;
    color: #00cec9;
    font-weight: 700;
    font-size: 13px;
    cursor: pointer;
    padding: 4px 14px;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  header .lang-select:hover, header .lang-select:focus {
    background-color: #00cec9;
    color: #121212;
    outline: none;
  }

  main {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 25px 20px;
    text-align: center;
    text-shadow:
      0 0 12px #000000dd,
      0 0 20px #00cec9aa;
  }
  main h1 {
    font-size: 2.8rem;
    font-weight: 800;
    margin-bottom: 10px;
    color: #00cec9;
    letter-spacing: 0.04em;
    animation: fadeInDown 1.2s ease forwards;
  }
  main p.subtitle {
    font-size: 1.2rem;
    max-width: 400px;
    line-height: 1.45;
    margin-bottom: 38px;
    color: #b0f0e6dd;
    animation: fadeInUp 1.2s ease forwards;
  }
  .btn-container {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    justify-content: center;
    max-width: 460px;
  }
  button.open-modal-btn {
    background: linear-gradient(135deg, #00cec9, #008080);
    border: none;
    padding: 14px 30px;
    font-weight: 700;
    font-size: 1rem;
    color: #121212;
    border-radius: 30px;
    box-shadow:
      0 6px 10px rgb(0 206 201 / 0.6),
      0 2px 6px rgb(0 206 201 / 0.5);
    cursor: pointer;
    transition:
      background-position 0.45s ease,
      box-shadow 0.3s ease,
      color 0.3s ease;
    background-size: 200% 200%;
    background-position: left center;
    flex: 1 1 140px;
    min-width: 140px;
  }
  button.open-modal-btn:hover,
  button.open-modal-btn:focus {
    background-position: right center;
    color: #f0fdfa;
    box-shadow:
      0 12px 20px rgb(0 230 230 / 0.8),
      0 6px 12px rgb(0 230 230 / 0.6);
    outline: none;
  }
  a.open-modal-btn {
    text-decoration: none;
  }

  /* Modal overlay */
  .modal-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.95);
    display: none;
    justify-content: center;
    align-items: center;
    padding: 20px;
    z-index: 9999;
    overflow-y: auto;
  }
  .modal-overlay.active {
    display: flex;
    animation: fadeIn 0.3s ease forwards;
  }
  .modal {
    background: #111111ee;
    border-radius: 14px;
    width: 95%;
    max-width: 620px;
    max-height: 85vh;
    overflow-y: auto;
    color: #e0e0e0;
    box-shadow: 0 0 30px #00d4b3aa;
    display: flex;
    flex-direction: column;
    animation: slideUp 0.3s ease forwards;
    outline: none;
  }
  .modal header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px 16px;
    border-bottom: 1px solid #00d4b3cc;
    font-weight: 700;
    font-size: 1.45rem;
    color: #00e6ca;
  }
  .modal header .close-btn {
    background: transparent;
    border: none;
    font-size: 1.9rem;
    color: #00e6ca;
    cursor: pointer;
    transition: color 0.25s ease;
  }
  .modal header .close-btn:hover,
  .modal header .close-btn:focus {
    color: #009974;
    outline: none;
  }
  .modal nav {
    display: flex;
    border-bottom: 1.7px solid #00d4b388;
    background: #111111dd;
  }
  .modal nav button {
    flex: 1;
    padding: 14px 12px;
    border: none;
    background: transparent;
    color: #6ef2db;
    font-weight: 700;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  .modal nav button.active {
    background: #00e6ca;
    color: #111111;
    border-radius: 14px 14px 0 0;
    box-shadow:
      0 0 8px #00e6caaa,
      0 0 15px #00e6ca99;
  }
  .modal section.content {
    padding: 24px 28px 28px;
    font-size: 1rem;
    line-height: 1.5;
    color: #c9f9f2cc;
    white-space: pre-wrap;
    overflow-wrap: break-word;
    scrollbar-width: thin;
    scrollbar-color: #00e6ca33 transparent;
  }
  .modal section.content a {
    color: #00e6ca;
    text-decoration: none;
    font-weight: 600;
    transition: text-decoration 0.25s ease;
  }
  .modal section.content a:hover,
  .modal section.content a:focus {
    text-decoration: underline;
    outline: none;
  }
  /* Scrollbar */
  .modal section.content::-webkit-scrollbar {
    width: 6px;
  }
  .modal section.content::-webkit-scrollbar-thumb {
    background: #00d4b3bb;
    border-radius: 12px;
  }

  /* Yorumlar modal tab */
  .comments-container {
    display: flex;
    flex-direction: column;
    gap: 14px;
  }
  .comment-form {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 14px;
  }
  .comment-form input[type="text"],
  .comment-form textarea {
    width: 100%;
    padding: 8px 12px;
    border-radius: 8px;
    border: 1.8px solid #00cec9;
    background: #222;
    color: #c9f9f2cc;
    font-size: 0.95rem;
    font-family: 'Montserrat', sans-serif;
    resize: vertical;
  }
  .comment-form input[type="text"]::placeholder,
  .comment-form textarea::placeholder {
    color: #5ef2ddaa;
  }
  .comment-form button {
    align-self: flex-end;
    background: #00cec9;
    border: none;
    color: #121212;
    font-weight: 700;
    padding: 10px 24px;
    border-radius: 30px;
    cursor: pointer;
    box-shadow:
      0 4px 8px rgb(0 206 201 / 0.6);
    transition: background-color 0.25s ease;
  }
  .comment-form button:hover,
  .comment-form button:focus {
    background-color: #009974;
    outline: none;
  }

  .comments-list {
    max-height: 280px;
    overflow-y: auto;
    border: 1.5px solid #00cec9;
    border-radius: 12px;
    padding: 14px 16px;
    background: #111;
  }
  .comment-item {
    border-bottom: 1px solid #00cec944;
    padding: 10px 6px;
    color: #b0f0e6cc;
    font-size: 0.9rem;
  }
  .comment-item:last-child {
    border-bottom: none;
  }
  .comment-item .comment-author {
    font-weight: 700;
    color: #00cec9;
    margin-bottom: 2px;
  }
  .comment-item .comment-text {
    white-space: pre-wrap;
  }
  .comment-item .comment-reply {
    margin-left: 12px;
    font-size: 0.85rem;
    color: #5ff3ddaa;
    font-style: italic;
    border-left: 3px solid #00cec9;
    padding-left: 8px;
    margin-top: 6px;
  }
  .comment-item .admin-actions {
    margin-top: 4px;
    display: flex;
    gap: 8px;
  }
  .comment-item .admin-actions button {
    background: transparent;
    border: 1.2px solid #00cec9;
    color: #00cec9;
    padding: 2px 10px;
    border-radius: 12px;
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 600;
    transition: background-color 0.25s ease;
  }
  .comment-item .admin-actions button:hover,
  .comment-item .admin-actions button:focus {
    background-color: #009974;
    outline: none;
  }

  /* Admin modal */
  #admin-modal .modal {
    max-width: 400px;
  }
  #admin-modal header {
    font-size: 1.3rem;
  }
  #admin-modal form {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 20px 24px 24px;
  }
  #admin-modal label {
    font-weight: 700;
    font-size: 1rem;
    color: #00cec9;
  }
  #admin-modal input[type="password"] {
    padding: 8px 12px;
    border-radius: 8px;
    border: 1.8px solid #00cec9;
    background: #222;
    color: #c9f9f2cc;
    font-size: 1rem;
  }
  #admin-modal input[type="password"]::placeholder {
    color: #5ef2ddaa;
  }
  #admin-modal button {
    background: #00cec9;
    border: none;
    color: #121212;
    font-weight: 700;
    padding: 10px 24px;
    border-radius: 30px;
    cursor: pointer;
    box-shadow:
      0 4px 8px rgb(0 206 201 / 0.6);
    transition: background-color 0.25s ease;
  }
  #admin-modal button:hover,
  #admin-modal button:focus {
    background-color: #009974;
    outline: none;
  }
  #admin-modal .admin-error {
    color: #ff6f6f;
    font-weight: 700;
    margin-top: 8px;
    font-size: 0.9rem;
  }
  /* Responsive & mobile tweaks */
  @media (max-width: 480px) {
    main h1 {
      font-size: 2rem;
    }
    main p.subtitle {
      font-size: 1rem;
      max-width: 90vw;
    }
    button.open-modal-btn {
      min-width: 130px;
      padding: 12px 16px;
      font-size: 0.95rem;
    }
    .modal {
      max-width: 95vw;
    }
    .modal header {
      font-size: 1.25rem;
      padding: 16px 20px 14px;
    }
    .modal nav button {
      font-size: 1rem;
      padding: 10px 6px;
    }
    footer {
      font-size: 12px;
      padding: 14px 8px;
    }
    footer a {
      margin: 0 6px;
      font-size: 12px;
    }
  }
  /* Animations */
  @keyframes fadeInDown {
    0% {
      opacity: 0;
      transform: translateY(-15px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(15px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes fadeIn {
    0% {opacity: 0;}
    100% {opacity: 1;}
  }
  @keyframes slideUp {
    0% {transform: translateY(15px); opacity: 0;}
    100% {transform: translateY(0); opacity: 1;}
  }
</style>
</head>
<body>

<header>
  <div class="logo" title="Fragments MÃ¼zik Botu">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Telegram_logo.svg/240px-Telegram_logo.svg.png" alt="Telegram Logo" />
    <span>Fragments</span>
  </div>
  <div>
    <span class="time" id="time-display">--:-- --</span>
  </div>
  <select id="lang-select" aria-label="Dil SeÃ§imi" title="Dil SeÃ§imi" class="lang-select" aria-live="polite" aria-atomic="true">
    <option value="tr" selected>TÃ¼rkÃ§e</option>
    <option value="en">English</option>
    <option value="ru">Ð ÑÑÑÐºÐ¸Ð¹</option>
    <option value="ar">Ø§ÙØ¹Ø±Ø¨ÙØ©</option>
  </select>
</header>

<main>
  <h1 id="main-title">ð§ Fragments MÃ¼zik Botu</h1>
  <p id="main-subtitle" class="subtitle">
    Telegram Ã¼zerinden saniyeler iÃ§inde ÅarkÄ± indirmeni saÄlayan, sade, ÅÄ±k ve gÃ¼Ã§lÃ¼ bir mÃ¼zik botudur.
  </p>
  <div class="btn-container" role="group" aria-label="Modal AÃ§ma ButonlarÄ±">
    <button class="open-modal-btn" data-modal="commands" aria-haspopup="dialog" aria-controls="modal-overlay" aria-expanded="false">Komutlar</button>
    <button class="open-modal-btn" data-modal="privacy" aria-haspopup="dialog" aria-controls="modal-overlay" aria-expanded="false">Gizlilik PolitikasÄ±</button>
    <button class="open-modal-btn" data-modal="terms" aria-haspopup="dialog" aria-controls="modal-overlay" aria-expanded="false">KullanÄ±m KoÅullarÄ±</button>
    <button class="open-modal-btn" data-modal="links" aria-haspopup="dialog" aria-controls="modal-overlay" aria-expanded="false">BaÄlantÄ±lar</button>
    <button class="open-modal-btn" data-modal="comments" aria-haspopup="dialog" aria-controls="modal-overlay" aria-expanded="false">Yorumlar</button>
    <button class="open-modal-btn" data-modal="admin" aria-haspopup="dialog" aria-controls="modal-overlay" aria-expanded="false" aria-disabled="false" aria-describedby="admin-desc">Admin Paneli</button>
  </div>
</main>

<footer role="contentinfo" aria-label="Site Alt Bilgi" style="text-align:center; padding:10px; font-size: 12px; color: #666;">
  Â© 2025 Fragments - TÃ¼m haklarÄ± saklÄ±dÄ±r.
</footer>

<!-- MODAL -->
<div id="modal-overlay" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1" aria-live="polite" aria-atomic="true">
  <div class="modal" role="document" tabindex="0">
    <header>
      <h2 id="modal-title" role="heading" aria-level="2">BaÅlÄ±k</h2>
      <button class="close-btn" aria-label="Kapat">&times;</button>
    </header>
    <nav role="tablist" aria-label="Modal Sekmeleri">
      <button class="tab-btn active" data-tab="commands" role="tab" aria-selected="true" id="tab-commands">Komutlar</button>
      <button class="tab-btn" data-tab="privacy" role="tab" aria-selected="false" id="tab-privacy">Gizlilik PolitikasÄ±</button>
      <button class="tab-btn" data-tab="terms" role="tab" aria-selected="false" id="tab-terms">KullanÄ±m KoÅullarÄ±</button>
      <button class="tab-btn" data-tab="links" role="tab" aria-selected="false" id="tab-links">BaÄlantÄ±lar</button>
      <button class="tab-btn" data-tab="comments" role="tab" aria-selected="false" id="tab-comments">Yorumlar</button>
    </nav>
    <section class="content" id="content-area" tabindex="0" aria-live="polite" aria-atomic="true">
      <!-- Ä°Ã§erik buraya gelecek -->
    </section>
  </div>
</div>

<!-- ADMIN MODAL -->
<div id="admin-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="admin-modal-title" tabindex="-1" style="display:none;">
  <div class="modal" role="document" tabindex="0">
    <header>
      <h2 id="admin-modal-title">Admin Paneli GiriÅi</h2>
      <button class="close-btn" aria-label="Kapat">&times;</button>
    </header>
    <form id="admin-login-form" autocomplete="off" novalidate>
      <label for="admin-password">Admin Åifresi</label>
      <input type="password" id="admin-password" name="admin-password" placeholder="Åifreyi giriniz" required aria-required="true" autocomplete="new-password" />
      <button type="submit">GiriÅ</button>
      <div class="admin-error" role="alert" aria-live="assertive"></div>
    </form>
  </div>
</div>

<script>
  // Dil iÃ§erikleri
  const content = {
    tr: {
      commands: `
â¢ /sarki - ÅarkÄ± indir
â¢ /surem - Premium sÃ¼reni Ã¶Ären
â¢ /premiumol - Premium avantajlarÄ±nÄ± gÃ¶r
â¢ /gecmisim - (Premium) Son 10 ÅarkÄ±nÄ± gÃ¶r
â¢ /hediyepremium [id] - (Admin) Premium hediye et
â¢ /bakimac - (Admin) BakÄ±m modunu aÃ§
â¢ /bakimkapat - (Admin) BakÄ±m modunu kapat
      `,
      privacy: `
Fragments botu gizliliÄinize Ã¶nem verir.
Verileriniz sadece botun saÄlÄ±klÄ± Ã§alÄ±ÅmasÄ± iÃ§in kullanÄ±lÄ±r ve Ã¼Ã§Ã¼ncÃ¼ ÅahÄ±slarla paylaÅÄ±lmaz.

Telegram Ã¼zerinden geliÅtiriciye veya destek ekibine mesaj gÃ¶ndermek yasaktÄ±r.
ð Bu tÃ¼r giriÅimler otomatik tespit edilir, veriler silinir ve kullanÄ±cÄ± engellenir.
LÃ¼tfen sadece Åu e-posta adresini kullanÄ±n:
ð© contact@egeherz.com
      `,
      terms: `
Fragments botunu kullanarak:
- Bot sadece mÃ¼zik indirmek iÃ§indir.
- GeliÅtiricinin uyarÄ±larÄ±na uyun.
- YasadÄ±ÅÄ± kullanÄ±mdan kaÃ§Ä±nÄ±n.
- TÃ¼m sorumluluk kullanÄ±cÄ±ya aittir.

SorularÄ±nÄ±z iÃ§in contact@egeherz.com adresine yazÄ±nÄ±z.
      `,
      links: `
<a href="https://t.me/fragmentsduyuru" target="_blank" rel="noopener noreferrer">ð¢ Duyuru KanalÄ±</a><br/>
<a href="https://t.me/fragmentsmuzik" target="_blank" rel="noopener noreferrer">ð¥ Topluluk</a><br/>
<a href="https://t.me/l0110310132100101110105122" target="_blank" rel="noopener noreferrer">ð¨âð» GeliÅtirici</a><br/>
<a href="https://t.me/FragmentsofmeBOT" target="_blank" rel="noopener noreferrer">ð¤ Botu AÃ§</a>
      `,
      comments: `
<!-- Yorumlar yÃ¼kleniyor -->
<div id="comments-wrapper" class="comments-container" aria-live="polite" aria-atomic="true">
  <form id="comment-form" class="comment-form" aria-label="Yorum GÃ¶nderme Formu">
    <input type="text" id="comment-author" name="comment-author" placeholder="AdÄ±nÄ±z" required aria-required="true" autocomplete="name" />
    <textarea id="comment-text" name="comment-text" placeholder="Yorumunuz..." rows="3" required aria-required="true" ></textarea>
    <button type="submit" aria-label="Yorum GÃ¶nder">GÃ¶nder</button>
  </form>
  <div id="comments-list" class="comments-list" tabindex="0" aria-live="polite" aria-atomic="true" aria-relevant="additions"></div>
</div>
      `
    },
    en: {
      commands: `
â¢ /sarki - Download a song
â¢ /surem - Check premium time
â¢ /premiumol - See premium benefits
â¢ /gecmisim - (Premium) Last 10 songs
â¢ /hediyepremium [id] - (Admin) Gift premium
â¢ /bakimac - (Admin) Enable maintenance mode
â¢ /bakimkapat - (Admin) Disable maintenance mode
      `,
      privacy: `
Fragments bot cares about your privacy.
Your data is only used for proper bot operation and not shared with third parties.

Sending messages to developer or support via Telegram is forbidden.
ð Such attempts are detected automatically, data deleted and user blocked.
Please use only this email:
ð© contact@egeherz.com
      `,
      terms: `
By using Fragments bot:
- Bot is for music downloading only.
- Follow developer warnings.
- Avoid illegal use.
- All responsibility belongs to user.

Questions? Write to contact@egeherz.com.
      `,
      links: `
<a href="https://t.me/fragmentsduyuru" target="_blank" rel="noopener noreferrer">ð¢ Announcement Channel</a><br/>
<a href="https://t.me/fragmentsmuzik" target="_blank" rel="noopener noreferrer">ð¥ Community</a><br/>
<a href="https://t.me/l0110310132100101110105122" target="_blank" rel="noopener noreferrer">ð¨âð» Developer</a><br/>
<a href="https://t.me/FragmentsofmeBOT" target="_blank" rel="noopener noreferrer">ð¤ Open Bot</a>
      `,
      comments: `
<div id="comments-wrapper" class="comments-container" aria-live="polite" aria-atomic="true">
  <form id="comment-form" class="comment-form" aria-label="Submit Comment Form">
    <input type="text" id="comment-author" name="comment-author" placeholder="Your Name" required aria-required="true" autocomplete="name" />
    <textarea id="comment-text" name="comment-text" placeholder="Your comment..." rows="3" required aria-required="true"></textarea>
    <button type="submit" aria-label="Submit Comment">Send</button>
  </form>
  <div id="comments-list" class="comments-list" tabindex="0" aria-live="polite" aria-atomic="true" aria-relevant="additions"></div>
</div>
      `
    },
    ru: {
      commands: `
â¢ /sarki - Ð¡ÐºÐ°ÑÐ°ÑÑ Ð¿ÐµÑÐ½Ñ
â¢ /surem - ÐÑÐ¾Ð²ÐµÑÐ¸ÑÑ Ð¿ÑÐµÐ¼Ð¸ÑÐ¼ Ð²ÑÐµÐ¼Ñ
â¢ /premiumol - ÐÐ¾ÑÐ¼Ð¾ÑÑÐµÑÑ Ð¿ÑÐµÐ¸Ð¼ÑÑÐµÑÑÐ²Ð° Ð¿ÑÐµÐ¼Ð¸ÑÐ¼Ð°
â¢ /gecmisim - (ÐÑÐµÐ¼Ð¸ÑÐ¼) ÐÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 10 Ð¿ÐµÑÐµÐ½
â¢ /hediyepremium [id] - (ÐÐ´Ð¼Ð¸Ð½) ÐÐ¾Ð´Ð°ÑÐ¸ÑÑ Ð¿ÑÐµÐ¼Ð¸ÑÐ¼
â¢ /bakimac - (ÐÐ´Ð¼Ð¸Ð½) ÐÐºÐ»ÑÑÐ¸ÑÑ ÑÐµÐ¶Ð¸Ð¼ Ð¾Ð±ÑÐ»ÑÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ
â¢ /bakimkapat - (ÐÐ´Ð¼Ð¸Ð½) ÐÑÐºÐ»ÑÑÐ¸ÑÑ ÑÐµÐ¶Ð¸Ð¼ Ð¾Ð±ÑÐ»ÑÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ
      `,
      privacy: `
ÐÐ¾Ñ Fragments Ð·Ð°Ð±Ð¾ÑÐ¸ÑÑÑ Ð¾ Ð²Ð°ÑÐµÐ¹ ÐºÐ¾Ð½ÑÐ¸Ð´ÐµÐ½ÑÐ¸Ð°Ð»ÑÐ½Ð¾ÑÑÐ¸. ÐÐ°ÑÐ¸ Ð´Ð°Ð½Ð½ÑÐµ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÑÑÑÑ ÑÐ¾Ð»ÑÐºÐ¾ Ð´Ð»Ñ ÐºÐ¾ÑÑÐµÐºÑÐ½Ð¾Ð¹ ÑÐ°Ð±Ð¾ÑÑ Ð¸ Ð½Ðµ Ð¿ÐµÑÐµÐ´Ð°ÑÑÑÑ ÑÑÐµÑÑÐ¸Ð¼ Ð»Ð¸ÑÐ°Ð¼.

ÐÑÐ¿ÑÐ°Ð²ÐºÐ° ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ð¹ ÑÐ°Ð·ÑÐ°Ð±Ð¾ÑÑÐ¸ÐºÑ Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑÐ¶ÐºÐµ Ð² Telegram ÑÑÑÐ¾Ð³Ð¾ Ð·Ð°Ð¿ÑÐµÑÐµÐ½Ð°.
ð ÐÐ¾Ð¿ÑÑÐºÐ¸ Ð°Ð²ÑÐ¾Ð¼Ð°ÑÐ¸ÑÐµÑÐºÐ¸ Ð¾Ð±Ð½Ð°ÑÑÐ¶Ð¸Ð²Ð°ÑÑÑÑ, Ð´Ð°Ð½Ð½ÑÐµ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ ÑÐ´Ð°Ð»ÑÑÑÑÑ Ð¸ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð±Ð»Ð¾ÐºÐ¸ÑÑÐµÑÑÑ.
ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÐ¹ÑÐµ ÑÐ¾Ð»ÑÐºÐ¾ ÑÑÐ¾Ñ e-mail Ð´Ð»Ñ ÑÐ²ÑÐ·Ð¸:
ð© contact@egeherz.com
      `,
      terms: `
ÐÑÐ¿Ð¾Ð»ÑÐ·ÑÑ Ð±Ð¾ÑÐ° Fragments, Ð²Ñ ÑÐ¾Ð³Ð»Ð°ÑÐ°ÐµÑÐµÑÑ Ñ:
- ÐÐ¾Ñ Ð¿ÑÐµÐ´Ð½Ð°Ð·Ð½Ð°ÑÐµÐ½ ÑÐ¾Ð»ÑÐºÐ¾ Ð´Ð»Ñ ÑÐºÐ°ÑÐ¸Ð²Ð°Ð½Ð¸Ñ Ð¼ÑÐ·ÑÐºÐ¸.
- Ð¡Ð»ÐµÐ´ÑÐ¹ÑÐµ Ð¿ÑÐµÐ´ÑÐ¿ÑÐµÐ¶Ð´ÐµÐ½Ð¸ÑÐ¼ ÑÐ°Ð·ÑÐ°Ð±Ð¾ÑÑÐ¸ÐºÐ° Ð´Ð»Ñ ÑÑÐ°Ð±Ð¸Ð»ÑÐ½Ð¾ÑÑÐ¸.
- ÐÐ·Ð±ÐµÐ³Ð°Ð¹ÑÐµ Ð½ÐµÐ·Ð°ÐºÐ¾Ð½Ð½Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ.
- ÐÑ Ð½ÐµÑÐµÑÐµ Ð¿Ð¾Ð»Ð½ÑÑ Ð¾ÑÐ²ÐµÑÑÑÐ²ÐµÐ½Ð½Ð¾ÑÑÑ.

ÐÐ¾Ð¿ÑÐ¾ÑÑ? ÐÐ¸ÑÐ¸ÑÐµ contact@egeherz.com.
      `,
      links: `
<a href="https://t.me/fragmentsduyuru" target="_blank" rel="noopener noreferrer">ð¢ ÐÐ°Ð½Ð°Ð» Ð¾Ð±ÑÑÐ²Ð»ÐµÐ½Ð¸Ð¹</a><br/>
<a href="https://t.me/fragmentsmuzik" target="_blank" rel="noopener noreferrer">ð¥ Ð¡Ð¾Ð¾Ð±ÑÐµÑÑÐ²Ð¾</a><br/>
<a href="https://t.me/l0110310132100101110105122" target="_blank" rel="noopener noreferrer">ð¨âð» Ð Ð°Ð·ÑÐ°Ð±Ð¾ÑÑÐ¸Ðº</a><br/>
<a href="https://t.me/FragmentsofmeBOT" target="_blank" rel="noopener noreferrer">ð¤ ÐÑÐºÑÑÑÑ Ð±Ð¾ÑÐ°</a>
      `,
      comments: `
<div id="comments-wrapper" class="comments-container" aria-live="polite" aria-atomic="true">
  <form id="comment-form" class="comment-form" aria-label="ÐÑÐ¿ÑÐ°Ð²Ð¸ÑÑ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹">
    <input type="text" id="comment-author" name="comment-author" placeholder="ÐÐ°ÑÐµ Ð¸Ð¼Ñ" required aria-required="true" autocomplete="name" />
    <textarea id="comment-text" name="comment-text" placeholder="ÐÐ°Ñ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹..." rows="3" required aria-required="true"></textarea>
    <button type="submit" aria-label="ÐÑÐ¿ÑÐ°Ð²Ð¸ÑÑ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹">ÐÑÐ¿ÑÐ°Ð²Ð¸ÑÑ</button>
  </form>
  <div id="comments-list" class="comments-list" tabindex="0" aria-live="polite" aria-atomic="true" aria-relevant="additions"></div>
</div>
      `
    },
    ar: {
      commands: `
â¢ /surem - Ø¹Ø±Ø¶ ÙØ¯Ø© Ø§ÙØ¨Ø±ÙÙÙÙÙ
â¢ /premiumol - Ø¹Ø±Ø¶ ÙØ²Ø§ÙØ§ Ø§ÙØ¨Ø±ÙÙÙÙÙ
â¢ /gecmisim - (Ø¨Ø±ÙÙÙÙÙ) Ø¹Ø±Ø¶ Ø¢Ø®Ø± 10 Ø£ØºØ§ÙÙ
â¢ /hediyepremium [id] - (ÙØ¯ÙØ±) ÙÙØ­ Ø¨Ø±ÙÙÙÙÙ
â¢ /bakimac - (ÙØ¯ÙØ±) ØªÙØ¹ÙÙ ÙØ¶Ø¹ Ø§ÙØµÙØ§ÙØ©
â¢ /bakimkapat - (ÙØ¯ÙØ±) ØªØ¹Ø·ÙÙ ÙØ¶Ø¹ Ø§ÙØµÙØ§ÙØ©
      `,
      privacy: `
Ø¨ÙØª ÙØ±Ø§ØºÙÙØªØ³ ÙØ­ØªØ±Ù Ø®ØµÙØµÙØªÙ.
ØªÙØ³ØªØ®Ø¯Ù Ø§ÙØ¨ÙØ§ÙØ§Øª ÙÙØ· ÙØªØ­Ø³ÙÙ Ø£Ø¯Ø§Ø¡ Ø§ÙØ¨ÙØª ÙØªØ¬Ø±Ø¨Ø© Ø§ÙÙØ³ØªØ®Ø¯Ù.
ÙØ§ ÙØªÙ ÙØ´Ø§Ø±ÙØ© Ø¨ÙØ§ÙØ§ØªÙ ÙØ¹ Ø£Ù Ø·Ø±Ù Ø«Ø§ÙØ«.

Ø§ÙØ±Ø³Ø§Ø¦Ù Ø¥ÙÙ Ø§ÙÙØ·ÙØ± Ø£Ù Ø§ÙØ¯Ø¹Ù Ø¹Ø¨Ø± Telegram ÙÙÙÙØ¹Ø©.
ð ÙØªÙ ÙØ´Ù ÙØ°Ù Ø§ÙÙØ­Ø§ÙÙØ§Øª Ø¢ÙÙÙØ§Ø ÙØªØ­Ø°Ù Ø¬ÙÙØ¹ Ø¨ÙØ§ÙØ§Øª Ø§ÙÙØ³ØªØ®Ø¯ÙØ ÙÙÙØ­Ø¸Ø± Ø§ÙÙØ³ØªØ®Ø¯Ù.
ÙØ±Ø¬Ù Ø§Ø³ØªØ®Ø¯Ø§Ù Ø§ÙØ¨Ø±ÙØ¯ Ø§ÙØ¥ÙÙØªØ±ÙÙÙ ÙÙØ·:
ð© contact@egeherz.com
      `,
      terms: `
Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù Ø¨ÙØª ÙØ±Ø§ØºÙÙØªØ³Ø Ø£ÙØª ØªÙØ§ÙÙ Ø¹ÙÙ Ø§ÙØ´Ø±ÙØ· Ø§ÙØªØ§ÙÙØ©:
- Ø§ÙØ¨ÙØª ÙØ®ØµØµ ÙØªÙØ²ÙÙ Ø§ÙÙÙØ³ÙÙÙ ÙÙØ·.
- Ø§ØªØ¨Ø¹ ØªØ­Ø°ÙØ±Ø§Øª Ø§ÙÙØ·ÙØ± ÙÙØ­ÙØ§Ø¸ Ø¹ÙÙ Ø§Ø³ØªÙØ±Ø§Ø± Ø§ÙØ®Ø¯ÙØ©.
- ÙÙÙØ¹ Ø§ÙØ§Ø³ØªØ®Ø¯Ø§Ù ØºÙØ± Ø§ÙÙØ§ÙÙÙÙ Ø£Ù Ø§ÙØ¶Ø§Ø±.
- Ø§ÙÙØ³Ø¤ÙÙÙØ© ØªÙØ¹ Ø¹ÙÙ Ø§ÙÙØ³ØªØ®Ø¯Ù.

ÙØ£Ù Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªØ ÙØ±Ø¬Ù ÙØ±Ø§Ø³ÙØ© contact@egeherz.com.
      `,
      links: `
<a href="https://t.me/fragmentsduyuru" target="_blank" rel="noopener noreferrer">ð¢ ÙÙØ§Ø© Ø§ÙØ¥Ø¹ÙØ§ÙØ§Øª</a><br/>
<a href="https://t.me/fragmentsmuzik" target="_blank" rel="noopener noreferrer">ð¥ ÙØ¬ÙÙØ¹Ø© Ø§ÙÙØ¬ØªÙØ¹</a><br/>
<a href="https://t.me/l0110310132100101110105122" target="_blank" rel="noopener noreferrer">ð¨âð» Ø§ÙÙØ·ÙØ±</a><br/>
<a href="https://t.me/FragmentsofmeBOT" target="_blank" rel="noopener noreferrer">ð¤ Ø§ÙØªØ­ Ø§ÙØ¨ÙØª</a>
      `,
      comments: `
<div id="comments-wrapper" class="comments-container" aria-live="polite" aria-atomic="true">
  <form id="comment-form" class="comment-form" aria-label="Ø¥Ø±Ø³Ø§Ù ØªØ¹ÙÙÙ">
    <input type="text" id="comment-author" name="comment-author" placeholder="Ø§Ø³ÙÙ" required aria-required="true" autocomplete="name" />
    <textarea id="comment-text" name="comment-text" placeholder="ØªØ¹ÙÙÙÙ..." rows="3" required aria-required="true"></textarea>
    <button type="submit" aria-label="Ø¥Ø±Ø³Ø§Ù ØªØ¹ÙÙÙ">Ø¥Ø±Ø³Ø§Ù</button>
  </form>
  <div id="comments-list" class="comments-list" tabindex="0" aria-live="polite" aria-atomic="true" aria-relevant="additions"></div>
</div>
      `
    }
  };

  // Zaman gÃ¶stergesi
  function updateTime() {
    const now = new Date();
    const days = {
      tr: ['Pazar','Pazartesi','SalÄ±','ÃarÅamba','PerÅembe','Cuma','Cumartesi'],
      en: ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],
      ru: ['ÐÐ¾ÑÐºÑÐµÑÐµÐ½ÑÐµ','ÐÐ¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº','ÐÑÐ¾ÑÐ½Ð¸Ðº','Ð¡ÑÐµÐ´Ð°','Ð§ÐµÑÐ²ÐµÑÐ³','ÐÑÑÐ½Ð¸ÑÐ°','Ð¡ÑÐ±Ð±Ð¾ÑÐ°'],
      ar: ['Ø§ÙØ£Ø­Ø¯','Ø§ÙØ¥Ø«ÙÙÙ','Ø§ÙØ«ÙØ§Ø«Ø§Ø¡','Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡','Ø§ÙØ®ÙÙØ³','Ø§ÙØ¬ÙØ¹Ø©','Ø§ÙØ³Ø¨Øª']
    };
    const lang = localStorage.getItem('lang') || 'tr';
    const dayName = days[lang][now.getDay()];
    const h = now.getHours().toString().padStart(2,'0');
    const m = now.getMinutes().toString().padStart(2,'0');
    const s = now.getSeconds().toString().padStart(2,'0');
    const timeDisplay = document.getElementById('time-display');
    if(timeDisplay) timeDisplay.textContent = `${dayName}, ${h}:${m}:${s}`;
  }
  setInterval(updateTime, 1000);
  updateTime();

  // Dil seÃ§imi
  const langSelect = document.getElementById('lang-select');
  langSelect.addEventListener('change', e => {
    const lang = e.target.value;
    localStorage.setItem('lang', lang);
    updateTexts(lang);
  });

  // Sayfa yÃ¼klendiÄinde dil ayarla
  document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('lang') || 'tr';
    langSelect.value = savedLang;
    updateTexts(savedLang);
  });

  // Modal ve iÃ§eriÄi seÃ§
  const modalOverlay = document.getElementById('modal-overlay');
  const modalTitle = document.getElementById('modal-title');
  const contentArea = document.getElementById('content-area');
  const closeBtn = modalOverlay.querySelector('.close-btn');
  const tabButtons = Array.from(modalOverlay.querySelectorAll('nav button.tab-btn'));
  const openModalButtons = Array.from(document.querySelectorAll('button.open-modal-btn'));

  // Admin modal elemanlarÄ±
  const adminModal = document.getElementById('admin-modal');
  const adminCloseBtn = adminModal.querySelector('.close-btn');
  const adminForm = document.getElementById('admin-login-form');
  const adminPasswordInput = document.getElementById('admin-password');
  const adminErrorDiv = adminModal.querySelector('.admin-error');

  // Admin yetki durumu
  let isAdmin = false;

  // Yorum verisi key
  const COMMENTS_STORAGE_KEY = 'fragments_comments_v2';

  // YorumlarÄ± yÃ¼kle
  function loadComments() {
    const raw = localStorage.getItem(COMMENTS_STORAGE_KEY);
    if(!raw) return [];
    try {
      return JSON.parse(raw);
    } catch {
      return [];
    }
  }
  // YorumlarÄ± kaydet
  function saveComments(comments) {
    localStorage.setItem(COMMENTS_STORAGE_KEY, JSON.stringify(comments));
  }

  // YorumlarÄ± gÃ¶ster
  function renderComments() {
    const commentsList = document.getElementById('comments-list');
    if(!commentsList) return;
    const comments = loadComments();

    if(comments.length === 0){
      commentsList.innerHTML = `<p style="color:#55ffaa; font-style: italic;">${{
        tr:'HenÃ¼z yorum yok.',
        en:'No comments yet.',
        ru:'ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸ÐµÐ² Ð¿Ð¾ÐºÐ° Ð½ÐµÑ.',
        ar:'ÙØ§ ØªÙØ¬Ø¯ ØªØ¹ÙÙÙØ§Øª Ø¨Ø¹Ø¯.'
      }[localStorage.getItem('lang') || 'tr']}</p>`;
      return;
    }

    // Her yorum iÃ§in html oluÅtur
    commentsList.innerHTML = comments.map((c,i) => {
      let adminActions = '';
      if(isAdmin) {
        adminActions = `
          <div class="admin-actions" role="group" aria-label="Admin iÅlemleri">
            <button data-index="${i}" class="btn-edit" aria-label="Yorumu dÃ¼zenle">DÃ¼zenle</button>
            <button data-index="${i}" class="btn-delete" aria-label="Yorumu sil">Sil</button>
          </div>`;
      }
      return `
        <div class="comment-item" tabindex="0" role="article" aria-label="Yorum">
          <div class="comment-author">${escapeHtml(c.author)}</div>
          <div class="comment-text">${escapeHtml(c.text)}</div>
          ${c.reply ? `<div class="comment-reply" aria-label="Admin cevabÄ±">${escapeHtml(c.reply)}</div>` : ''}
          ${adminActions}
        </div>`;
    }).join('');
    // Admin butonlarÄ± eventleri
    if(isAdmin){
      commentsList.querySelectorAll('.btn-edit').forEach(btn=>{
        btn.onclick = e => {
          const i = Number(e.target.dataset.index);
          editComment(i);
        };
      });
      commentsList.querySelectorAll('.btn-delete').forEach(btn=>{
        btn.onclick = e => {
          const i = Number(e.target.dataset.index);
          deleteComment(i);
        };
      });
    }
  }

  // GÃ¼venlik: HTML Ã¶zel karakterlerini kaÃ§Ä±r
  function escapeHtml(text) {
    return text.replace(/[&<>"']/g, function(m) {
      return ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
      })[m];
    });
  }

  // Yorum dÃ¼zenleme
  function editComment(index) {
    const comments = loadComments();
    const c = comments[index];
    if(!c) return alert('Hata: Yorum bulunamadÄ±.');
    const newText = prompt('Yorumu dÃ¼zenleyin:', c.text);
    if(newText !== null){
      comments[index].text = newText.trim() || c.text;
      saveComments(comments);
      renderComments();
    }
  }

  // Yorum silme
  function deleteComment(index) {
    if(!confirm('Bu yorumu silmek istediÄinize emin misiniz?')) return;
    const comments = loadComments();
    if(index < 0 || index >= comments.length) return;
    comments.splice(index, 1);
    saveComments(comments);
    renderComments();
  }

  // Yeni yorum ekleme
  function addComment(author, text) {
    const comments = loadComments();
    comments.push({author, text, reply:''});
    saveComments(comments);
    renderComments();
  }

  // Admin giriÅ durumu depolama
  function setAdmin(value) {
    isAdmin = value;
    if(value){
      localStorage.setItem('fragments_admin', 'true');
    } else {
      localStorage.removeItem('fragments_admin');
    }
  }
  function checkAdminStatus() {
    return localStorage.getItem('fragments_admin') === 'true';
  }

  // Admin Åifresi
  const ADMIN_PASSWORD = 'xFragmentS';

  // AÃ§Ä±lÄ±Åta admin durumunu kontrol et
  document.addEventListener('DOMContentLoaded', () => {
    if(checkAdminStatus()){
      setAdmin(true);
    }
  });

  // Modal aÃ§ma fonksiyonu
  function openModal(name){
    if(name === 'admin'){
      // Admin modali gÃ¶ster
      adminModal.style.display = 'flex';
      adminErrorDiv.textContent = '';
      adminPasswordInput.value = '';
      adminPasswordInput.focus();
      adminModal.setAttribute('aria-hidden', 'false');
      // Buton aria-expanded false yap
      openModalButtons.forEach(btn=>{
        if(btn.dataset.modal === 'admin'){
          btn.setAttribute('aria-expanded', 'true');
        } else {
          btn.setAttribute('aria-expanded', 'false');
        }
      });
      return;
    }

    modalOverlay.classList.add('active');
    modalOverlay.setAttribute('aria-hidden', 'false');
    // Aktif tab seÃ§
    tabButtons.forEach(btn=>{
      if(btn.dataset.tab === name){
        btn.classList.add('active');
        btn.setAttribute('aria-selected', 'true');
      } else {
        btn.classList.remove('active');
        btn.setAttribute('aria-selected', 'false');
      }
    });
    openModalButtons.forEach(btn=>{
      btn.setAttribute('aria-expanded', btn.dataset.modal === name ? 'true' : 'false');
    });
    updateModalContent(name);
    // Focus modal iÃ§erik alanÄ±na
    contentArea.focus();
  }

  // Modal kapama fonksiyonu
  function closeModal(){
    modalOverlay.classList.remove('active');
    modalOverlay.setAttribute('aria-hidden', 'true');
    openModalButtons.forEach(btn=>{
      btn.setAttribute('aria-expanded', 'false');
    });
    // Admin modal kapat
    adminModal.style.display = 'none';
    adminModal.setAttribute('aria-hidden', 'true');
  }

  // Modal tab iÃ§eriÄi deÄiÅtir
  function updateModalContent(name){
    if(!content[localStorage.getItem('lang')]) return;
    const lang = localStorage.getItem('lang') || 'tr';
    modalTitle.textContent = ({
      commands: {'tr':'Komutlar','en':'Commands','ru':'ÐÐ¾Ð¼Ð°Ð½Ð´Ñ','ar':'Ø§ÙØ£ÙØ§ÙØ±'}[lang],
      privacy: {'tr':'Gizlilik PolitikasÄ±','en':'Privacy Policy','ru':'ÐÐ¾Ð»Ð¸ÑÐ¸ÐºÐ° ÐºÐ¾Ð½ÑÐ¸Ð´ÐµÐ½ÑÐ¸Ð°Ð»ÑÐ½Ð¾ÑÑÐ¸','ar':'Ø³ÙØ§Ø³Ø© Ø§ÙØ®ØµÙØµÙØ©'}[lang],
      terms: {'tr':'KullanÄ±m KoÅullarÄ±','en':'Terms of Use','ru':'Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ','ar':'Ø´Ø±ÙØ· Ø§ÙØ§Ø³ØªØ®Ø¯Ø§Ù'}[lang],
      links: {'tr':'BaÄlantÄ±lar','en':'Links','ru':'Ð¡ÑÑÐ»ÐºÐ¸','ar':'Ø§ÙØ±ÙØ§Ø¨Ø·'}[lang],
      comments: {'tr':'Yorumlar','en':'Comments','ru':'ÐÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¸','ar':'Ø§ÙØªØ¹ÙÙÙØ§Øª'}[lang],
    })[name] || 'Fragments';

    if(name === 'comments'){
      contentArea.innerHTML = content[lang][name];
      renderComments();
      // Yorum formu olaylarÄ±
      const commentForm = document.getElementById('comment-form');
      const commentAuthor = document.getElementById('comment-author');
      const commentText = document.getElementById('comment-text');
      commentForm.onsubmit = e => {
        e.preventDefault();
        const author = commentAuthor.value.trim();
        const text = commentText.value.trim();
        if(author === '' || text === '') return alert({
          tr:'LÃ¼tfen adÄ±nÄ±zÄ± ve yorumunuzu giriniz.',
          en:'Please enter your name and comment.',
          ru:'ÐÐ¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð²Ð²ÐµÐ´Ð¸ÑÐµ Ð¸Ð¼Ñ Ð¸ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹.',
          ar:'ÙØ±Ø¬Ù Ø¥Ø¯Ø®Ø§Ù Ø§ÙØ§Ø³Ù ÙØ§ÙØªØ¹ÙÙÙ.'
        }[lang]);
        addComment(author, text);
        commentAuthor.value = '';
        commentText.value = '';
        commentAuthor.focus();
      };
    } else {
      contentArea.innerHTML = content[lang][name];
    }
  }

  // Tab butonlarÄ± event
  tabButtons.forEach(btn=>{
    btn.addEventListener('click', () => {
      tabButtons.forEach(b => {
        b.classList.remove('active');
        b.setAttribute('aria-selected', 'false');
      });
      btn.classList.add('active');
      btn.setAttribute('aria-selected', 'true');
      updateModalContent(btn.dataset.tab);
    });
  });

  // Modal aÃ§ma butonlarÄ±
  openModalButtons.forEach(btn=>{
    btn.addEventListener('click', () => {
      openModal(btn.dataset.modal);
    });
  });

  // Modal kapama butonlarÄ±
  closeBtn.addEventListener('click', closeModal);
  adminCloseBtn.addEventListener('click', closeModal);

  // ESC ile modal kapatma
  document.addEventListener('keydown', e => {
    if(e.key === 'Escape'){
      if(modalOverlay.classList.contains('active')){
        closeModal();
      }
      if(adminModal.style.display === 'flex'){
        closeModal();
      }
    }
  });

  // Admin giriÅ formu
  adminForm.addEventListener('submit', e => {
    e.preventDefault();
    const entered = adminPasswordInput.value.trim();
    if(entered === ADMIN_PASSWORD){
      setAdmin(true);
      adminErrorDiv.textContent = '';
      alert({
        tr: 'Admin olarak giriÅ yapÄ±ldÄ±.',
        en: 'Logged in as admin.',
        ru: 'ÐÑÐ¾Ð´ Ð²ÑÐ¿Ð¾Ð»Ð½ÐµÐ½ ÐºÐ°Ðº Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑÑÐ°ÑÐ¾Ñ.',
        ar: 'ØªÙ ØªØ³Ø¬ÙÙ Ø§ÙØ¯Ø®ÙÙ ÙÙØ³Ø¤ÙÙ.'
      }[localStorage.getItem('lang') || 'tr']);
      closeModal();
    } else {
      adminErrorDiv.textContent = {
        tr: 'YanlÄ±Å Åifre, tekrar deneyiniz.',
        en: 'Wrong password, try again.',
        ru: 'ÐÐµÐ²ÐµÑÐ½ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ, Ð¿Ð¾Ð¿ÑÐ¾Ð±ÑÐ¹ÑÐµ ÑÐ½Ð¾Ð²Ð°.',
        ar: 'ÙÙÙØ© ÙØ±ÙØ± Ø®Ø§Ø·Ø¦Ø©Ø Ø­Ø§ÙÙ ÙØ±Ø© Ø£Ø®Ø±Ù.'
      }[localStorage.getItem('lang') || 'tr'];
      adminPasswordInput.focus();
    }
  });

  // Dil gÃ¼ncelleme fonksiyonu (ana baÅlÄ±k, alt yazÄ± vs.)
  function updateTexts(lang) {
    const mainTitle = document.getElementById('main-title');
    const mainSubtitle = document.getElementById('main-subtitle');
    switch(lang){
      case 'tr':
        mainTitle.textContent = 'ð§ Fragments MÃ¼zik Botu';
        mainSubtitle.textContent = 'Telegram Ã¼zerinden saniyeler iÃ§inde ÅarkÄ± indirmeni saÄlayan, sade, ÅÄ±k ve gÃ¼Ã§lÃ¼ bir mÃ¼zik botudur.';
        break;
      case 'en':
        mainTitle.textContent = 'ð§ Fragments Music Bot';
        mainSubtitle.textContent = 'A simple, stylish & powerful music bot to download songs via Telegram in seconds.';
        break;
      case 'ru':
        mainTitle.textContent = 'ð§ Ð¤ÑÐ°Ð³Ð¼ÐµÐ½ÑÑ ÐÑÐ·ÑÐºÐ°Ð»ÑÐ½ÑÐ¹ ÐÐ¾Ñ';
        mainSubtitle.textContent = 'ÐÑÐ¾ÑÑÐ¾Ð¹, ÑÑÐ¸Ð»ÑÐ½ÑÐ¹ Ð¸ Ð¼Ð¾ÑÐ½ÑÐ¹ Ð¼ÑÐ·ÑÐºÐ°Ð»ÑÐ½ÑÐ¹ Ð±Ð¾Ñ Ð´Ð»Ñ ÑÐºÐ°ÑÐ¸Ð²Ð°Ð½Ð¸Ñ Ð¿ÐµÑÐµÐ½ ÑÐµÑÐµÐ· Telegram Ð·Ð° ÑÐµÐºÑÐ½Ð´Ñ.';
        break;
      case 'ar':
        mainTitle.textContent = 'ð§ Ø¨ÙØª ÙØ±Ø§ØºÙÙØªØ³ ÙÙÙÙØ³ÙÙÙ';
        mainSubtitle.textContent = 'Ø¨ÙØª Ø¨Ø³ÙØ· ÙØ£ÙÙÙ ÙÙÙÙ ÙØªØ­ÙÙÙ Ø§ÙØ£ØºØ§ÙÙ Ø¹Ø¨Ø± Telegram ÙÙ Ø«ÙØ§ÙÙ.';
        break;
      default:
        mainTitle.textContent = 'ð§ Fragments MÃ¼zik Botu';
        mainSubtitle.textContent = 'Telegram Ã¼zerinden saniyeler iÃ§inde ÅarkÄ± indirmeni saÄlayan, sade, ÅÄ±k ve gÃ¼Ã§lÃ¼ bir mÃ¼zik botudur.';
        break;
    }
    // EÄer modal aÃ§Ä±ksa iÃ§erik gÃ¼ncelle
    if(modalOverlay.classList.contains('active')){
      const activeTab = tabButtons.find(b => b.classList.contains('active'));
      if(activeTab) updateModalContent(activeTab.dataset.tab);
    }
  }

  // Escape HTML helper (daha Ã¶nce tanÄ±mlandÄ±)

</script>

</body>
</html>
