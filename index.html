<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fragments MÃ¼zik Botu</title>
<meta name="description" content="Fragments MÃ¼zik Botu - Telegram Ã¼zerinden hÄ±zlÄ± ve kaliteli mÃ¼zik indirme. Premium Ã¶zellikler ve kullanÄ±m rehberi." />
<meta name="theme-color" content="#000000" />
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap');
  * {
    margin:0; padding:0; box-sizing:border-box;
  }
  html, body {
    height: 100%;
    background: #000;
    font-family: 'Poppins', sans-serif;
    color: #eee;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  body {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  header {
    padding: 1rem 2rem;
    background: #111111dd;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 9999;
    user-select:none;
  }
  header h1 {
    font-weight: 700;
    font-size: 1.7rem;
    color: #ff4081;
  }
  .clock-lang {
    display: flex;
    align-items: center;
    gap: 1rem;
  }
  .clock {
    font-weight: 600;
    font-size: 1rem;
    background: #222222cc;
    padding: 0.3rem 0.9rem;
    border-radius: 12px;
    font-variant-numeric: tabular-nums;
    user-select:none;
    min-width: 130px;
    text-align:center;
    color:#ff79a1;
    letter-spacing: 0.02em;
  }
  select#lang-select {
    background: #222222cc;
    border: none;
    color: #ff79a1;
    padding: 0.35rem 0.7rem;
    font-weight: 600;
    border-radius: 12px;
    cursor: pointer;
    font-size: 1rem;
    transition: background-color 0.3s ease;
  }
  select#lang-select:hover, select#lang-select:focus {
    background: #ff4081;
    color: #fff;
    outline:none;
  }
  main {
    flex-grow: 1;
    padding: 2rem 1.5rem;
    max-width: 900px;
    margin: 0 auto 2rem;
  }
  section {
    margin-bottom: 2.8rem;
    background: #121212dd;
    border-radius: 18px;
    padding: 2rem 2.2rem;
    box-shadow: 0 0 20px #ff4081aa;
  }
  h2 {
    font-weight: 700;
    font-size: 1.8rem;
    margin-bottom: 1.2rem;
    color: #ff4081;
    user-select:none;
  }
  p, li {
    line-height: 1.5;
    font-weight: 400;
    font-size: 1.1rem;
  }
  ul {
    list-style-type: disc;
    margin-left: 1.7rem;
  }
  code {
    background: #222;
    padding: 0.3rem 0.6rem;
    border-radius: 8px;
    font-family: 'Courier New', Courier, monospace;
    font-weight: 600;
    color: #ff79a1;
  }
  button, .btn {
    background: #ff4081;
    color: white;
    border: none;
    border-radius: 14px;
    padding: 0.85rem 1.8rem;
    font-weight: 700;
    font-size: 1.05rem;
    cursor: pointer;
    transition: background-color 0.3s ease;
    user-select:none;
  }
  button:hover, .btn:hover, button:focus, .btn:focus {
    background: #e73370;
    outline:none;
  }
  /* Modal styling */
  .modal {
    position: fixed;
    top: 0; left: 0; right:0; bottom:0;
    background: rgba(0,0,0,0.85);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 99999;
    padding: 1rem;
  }
  .modal.active {
    display: flex;
  }
  .modal-content {
    background: #1a1a2e;
    border-radius: 20px;
    max-width: 600px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    padding: 2rem 2.5rem;
    box-shadow: 0 0 40px #ff4081aa;
    color: #eee;
    position: relative;
  }
  .modal-content h3 {
    margin-top: 0;
    font-weight: 800;
    color: #ff4081;
    user-select:none;
  }
  .modal-close {
    position: absolute;
    top: 1.2rem;
    right: 1.2rem;
    background: transparent;
    border: none;
    font-size: 2rem;
    color: #ff4081;
    cursor: pointer;
    user-select:none;
    transition: color 0.25s ease;
  }
  .modal-close:hover, .modal-close:focus {
    color: #ff79a1;
    outline:none;
  }
  .modal-content a {
    color: #ff79a1;
    text-decoration: underline;
  }
  .modal-content a:hover {
    color: #ffb1d6;
  }
  /* Comments Section */
  #comments-section {
    background: #211a2dcc;
    border-radius: 20px;
    padding: 1.5rem 2rem;
    box-shadow: 0 0 35px #ff4081bb;
  }
  #comments-section h2 {
    margin-bottom: 1.2rem;
  }
  #comments-list {
    max-height: 320px;
    overflow-y: auto;
    margin-bottom: 1rem;
    border: 1.8px solid #ff4081bb;
    padding: 1rem;
    border-radius: 14px;
    background: #330033cc;
    font-size: 1rem;
  }
  .comment {
    border-bottom: 1px solid #ff408188;
    padding-bottom: 0.6rem;
    margin-bottom: 0.7rem;
    color: #ffd4ec;
  }
  .comment:last-child {
    border-bottom: none;
  }
  .comment strong {
    color: #ff79a1;
    user-select:none;
  }
  .comment .comment-text {
    margin: 0.25rem 0 0.5rem 0;
    font-size: 1rem;
    line-height: 1.3;
  }
  .comment .comment-email {
    font-size: 0.85rem;
    color: #ff40818f;
    user-select:none;
  }
  .comment .reply-btn {
    font-size: 0.9rem;
    color: #ff4081cc;
    cursor: pointer;
    user-select:none;
    font-weight: 600;
    background: transparent;
    border: none;
    padding: 0;
    transition: color 0.3s ease;
  }
  .comment .reply-btn:hover, .comment .reply-btn:focus {
    color: #ff79a1;
    outline:none;
  }
  #comment-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  #comment-form label {
    font-weight: 600;
    font-size: 1rem;
  }
  #comment-form input[type="text"], 
  #comment-form input[type="email"],
  #comment-form textarea {
    padding: 0.7rem 1rem;
    border-radius: 15px;
    border: 1.5px solid #ff4081bb;
    background: #2a003d;
    color: #ffb3d9;
    font-size: 1rem;
    font-family: 'Poppins', sans-serif;
    resize: vertical;
    transition: border-color 0.3s ease;
  }
  #comment-form input[type="text"]:focus,
  #comment-form input[type="email"]:focus,
  #comment-form textarea:focus {
    border-color: #ff79a1;
    outline: none;
  }
  #comment-form textarea {
    min-height: 80px;
    max-height: 160px;
  }
  #comment-submit {
    align-self: flex-start;
    background: #ff4081;
    border: none;
    border-radius: 18px;
    color: white;
    font-weight: 700;
    cursor: pointer;
    padding: 0.85rem 2rem;
    font-size: 1.1rem;
    user-select:none;
    transition: background-color 0.3s ease;
  }
  #comment-submit:hover, #comment-submit:focus {
    background: #e73370;
    outline:none;
  }

  /* Reply Modal */
  #reply-modal .modal-content {
    max-width: 500px;
  }
  #reply-modal label {
    display: block;
    margin-top: 1rem;
    margin-bottom: 0.4rem;
    font-weight: 600;
    color: #ff79a1;
  }
  #reply-modal input, #reply-modal textarea {
    width: 100%;
  }
  #reply-modal textarea {
    min-height: 70px;
  }
  #reply-form button {
    margin-top: 1.4rem;
  }

  /* Footer links */
  #footer-links ul {
    list-style-type:none;
    padding-left:0;
  }
  #footer-links ul li {
    margin-bottom: 0.6rem;
  }
  #footer-links ul li a {
    color: #ff4081;
    text-decoration: underline;
    font-weight: 600;
    font-size: 1.1rem;
  }
  #footer-links ul li a:hover, #footer-links ul li a:focus {
    color: #ff79a1;
    outline:none;
  }

  /* Responsive */
  @media (max-width: 650px) {
    header {
      flex-direction: column;
      gap: 0.7rem;
      padding: 1rem 1rem;
    }
    header h1 {
      font-size: 1.4rem;
      text-align:center;
    }
    main {
      padding: 1rem 1rem;
      max-width: 100%;
    }
    section {
      padding: 1.6rem 1.2rem;
    }
    .clock {
      min-width: 110px;
      font-size: 0.9rem;
    }
    select#lang-select {
      font-size: 0.9rem;
      padding: 0.3rem 0.6rem;
    }
    #comments-list {
      max-height: 240px;
      font-size: 0.95rem;
    }
    #comment-form input, #comment-form textarea {
      font-size: 0.95rem;
    }
    #comment-submit {
      font-size: 1rem;
      padding: 0.7rem 1.5rem;
    }
  }
</style>
</head>
<body>

<header>
  <h1>Fragments MÃ¼zik Botu</h1>
  <div class="clock-lang" aria-label="Saat ve dil seÃ§imi">
    <div class="clock" id="clock" aria-live="polite" aria-atomic="true" role="timer">--:--:--</div>
    <select id="lang-select" aria-label="Dil seÃ§imi" title="Dil seÃ§imi">
      <option value="tr">TÃ¼rkÃ§e</option>
      <option value="en">English</option>
      <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
      <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
    </select>
  </div>
</header>

<main>
  <!-- About -->
  <section id="about-section" tabindex="0" aria-label="Bot hakkÄ±nda">
    <h2 data-i18n="about_title">Fragments MÃ¼zik Botu</h2>
    <p data-i18n="about_desc">Fragments, Telegram Ã¼zerinden saniyeler iÃ§inde ÅŸarkÄ± indirmeni saÄŸlayan; sade, ÅŸÄ±k ve gÃ¼Ã§lÃ¼ bir mÃ¼zik botudur. MÃ¼zik sadece bir ses deÄŸil, bir tutkudurâ€¦ ğŸ¶</p>
  </section>

  <!-- Commands -->
  <section id="commands-section" tabindex="0" aria-label="Bot komutlarÄ±">
    <h2 data-i18n="commands_title">KullanÄ±labilir Komutlar</h2>
    <ul>
      <li><code>/durumum</code> â†’ KaÃ§ ÅŸarkÄ± indirdin?</li>
      <li><code>/surem</code> â†’ Premium sÃ¼ren kaldÄ± mÄ±?</li>
      <li><code>/premiumol</code> â†’ Avantajlara gÃ¶z at</li>
      <li><code>/gecmisim</code> â†’ (Premium) Son 10 ÅŸarkÄ±n</li>
    </ul>
  </section>

  <!-- Premium -->
  <section id="premium-section" tabindex="0" aria-label="Premium avantajlar">
    <h2 data-i18n="premium_title">Premium AyrÄ±calÄ±klarÄ±</h2>
    <ul>
      <li>320 kbps yÃ¼ksek kalite</li>
      <li>HÄ±zlÄ± ve beklemesiz indirme</li>
      <li>ÅarkÄ± geÃ§miÅŸine eriÅŸim</li>
      <li>500 ÅŸarkÄ±ya ulaÅŸtÄ±ÄŸÄ±nda otomatik kalÄ±cÄ± premium</li>
      <li>Premium kutlamalarÄ± ve ayrÄ±calÄ±klÄ± kullanÄ±cÄ± deneyimi</li>
    </ul>
  </section>

  <!-- Rest time -->
  <section id="rest-section" tabindex="0" aria-label="GÃ¼nlÃ¼k dinlenme zamanÄ±">
    <h2 data-i18n="rest_title">GÃ¼nlÃ¼k Dinlenme ZamanÄ±</h2>
    <p>Fragments, her gÃ¼n saat 05:30 â€“ 11:07 arasÄ±nda kendini dinlenmeye alÄ±r.</p>
    <p>Bu saatlerde gelen komutlara ÅŸu tatlÄ± mesajla cevap verir:</p>
    <blockquote>
      ğŸ”§ Ã–zÃ¼r dilerim Bal biraz dinlenmem gerekiyor sistemsel ve donanÄ±msal iÃ§in.<br />
      ğŸ› ï¸ Åu anda dinleniyorum, dinlenmem bitince seni bilgilendireceÄŸim.<br />
      â³ Dinlenmemin tahmini bitiÅŸ saati: 11:07<br /><br />
      ğŸ¤ AnlayÄ±ÅŸÄ±n iÃ§in Ã§ok teÅŸekkÃ¼r ederim!
    </blockquote>
    <p>Saat 11:07â€™de ise seni ÅŸÃ¶yle karÅŸÄ±lar:</p>
    <blockquote>
      GÃ¼naydÄ±nn TatlÄ±m ğŸ’• UmarÄ±m gÃ¼nÃ¼n gÃ¼zel geÃ§er ve benimle bol bol ÅŸarkÄ± dinlersin. BakÄ±mdan Ã§Ä±ktÄ±m, artÄ±k Ã§alÄ±ÅŸtÄ±rabilirsin RahatÃ§aaa ğŸ¶ (FRAGMENTS EKÄ°BÄ°)
    </blockquote>
  </section>

  <!-- Note -->
  <section id="note-section" tabindex="0" aria-label="Ã–nemli not">
    <h2 data-i18n="note_title">Ã–nemli Not</h2>
    <p>Bot ÅŸu an mobil cihaz Ã¼zerinden Ã§alÄ±ÅŸmaktadÄ±r. Bu nedenle bazen kÃ¼Ã§Ã¼k gecikmeler olabilir.</p>
    <p>Ancak istediÄŸin ÅŸarkÄ±yÄ± kesinlikle sana ulaÅŸtÄ±rÄ±r. Sadece birazcÄ±k sabÄ±râ€¦ ğŸ™</p>
  </section>

  <!-- Developer -->
  <section id="developer-section" tabindex="0" aria-label="GeliÅŸtirici bilgileri">
    <h2 data-i18n="developer_title">GeliÅŸtirici</h2>
    <p><a href="https://t.me/l0110310132100101110105122" target="_blank" rel="noopener" style="color:#ff4081;">@l0110310132100101110105122</a></p>
    <p>Telegram Ã¼zerinden geliÅŸtiriciye mesaj gÃ¶nderilmesine cevap verilmemektedir.<br />TÃ¼m destek ve sorularÄ±nÄ±z iÃ§in yalnÄ±zca ÅŸu e-posta adresini kullanÄ±n:<br />ğŸ“© <a href="mailto:contact@egeherz.com" style="color:#ff4081;">contact@egeherz.com</a></p>
  </section>

  <!-- Supporters -->
  <section id="supporters-section" tabindex="0" aria-label="DestekÃ§iler">
    <h2 data-i18n="supporters_title">Fragmentsâ€™Ä±n Kalbinde Yatan GÃ¼Ã§: DestekÃ§iler</h2>
    <ul>
      <li><a href="https://t.me/Can_mod" target="_blank" rel="noopener" style="color:#ff79a1;">@Can_mod</a> â€” GeliÅŸime bÃ¼yÃ¼k katkÄ± saÄŸladÄ±.</li>
      <li><a href="https://t.me/Sladgr" target="_blank" rel="noopener" style="color:#ff79a1;">@Sladgr</a> â€” Fikirleriyle yÃ¶n verdi.</li>
    </ul>
    <p>Telegram Ã¼zerinden geliÅŸtirici ve destekÃ§ilere mesaj gÃ¶ndermek kesinlikle yasaktÄ±r.<br />Bu tÃ¼r giriÅŸimler bot tarafÄ±ndan algÄ±lanÄ±r, kullanÄ±cÄ± verileri kalÄ±cÄ± olarak silinir ve engellenir.<br />LÃ¼tfen yalnÄ±zca e-posta kullanÄ±nÄ±z: <a href="mailto:contact@egeherz.com" style="color:#ff4081;">contact@egeherz.com</a></p>
  </section>

  <!-- Comments Section -->
  <section id="comments-section" aria-label="KullanÄ±cÄ± yorumlarÄ±">
    <h2>KullanÄ±cÄ± YorumlarÄ±</h2>
    <div id="comments-list" aria-live="polite" aria-relevant="additions"></div>
    
    <form id="comment-form" aria-label="Yorum gÃ¶nderme formu">
      <label for="name-input">AdÄ±nÄ±z</label>
      <input type="text" id="name-input" name="name" required aria-required="true" placeholder="AdÄ±nÄ±z" />
      
      <label for="email-input">E-posta</label>
      <input type="email" id="email-input" name="email" required aria-required="true" placeholder="E-posta adresiniz" />
      
      <label for="comment-input">Yorumunuz</label>
      <textarea id="comment-input" name="comment" rows="3" required aria-required="true" placeholder="Yorumunuzu yazÄ±n..."></textarea>
      
      <button type="submit" id="comment-submit">Yorumu GÃ¶nder</button>
    </form>
  </section>
</main>

<!-- Reply Modal -->
<div class="modal" id="reply-modal" role="dialog" aria-modal="true" aria-labelledby="reply-title" tabindex="-1">
  <div class="modal-content">
    <button class="modal-close" aria-label="Kapat">&times;</button>
    <h3 id="reply-title">Yoruma YanÄ±t Ver</h3>
    <form id="reply-form" aria-label="YanÄ±t gÃ¶nderme formu">
      <p><strong id="reply-to-name"></strong> adlÄ± kullanÄ±cÄ±ya yanÄ±t veriyorsunuz.</p>
      <label for="reply-name-input">AdÄ±nÄ±z</label>
      <input type="text" id="reply-name-input" name="replyName" required aria-required="true" placeholder="AdÄ±nÄ±z" />
      
      <label for="reply-email-input">E-posta</label>
      <input type="email" id="reply-email-input" name="replyEmail" required aria-required="true" placeholder="E-posta adresiniz" />
      
      <label for="reply-textarea">YanÄ±tÄ±nÄ±z</label>
      <textarea id="reply-textarea" name="replyText" rows="4" required aria-required="true" placeholder="YanÄ±tÄ±nÄ±zÄ± yazÄ±n..."></textarea>
      
      <button type="submit" id="reply-submit">YanÄ±tÄ± GÃ¶nder</button>
    </form>
  </div>
</div>

<footer id="footer-links" aria-label="BaÄŸlantÄ±lar" style="text-align:center; padding-bottom:1.5rem; user-select:none;">
  <ul style="display:inline-flex; gap:1.6rem; flex-wrap:wrap; justify-content:center;">
    <li><a href="https://t.me/fragmentsduyuru" target="_blank" rel="noopener">Duyuru KanalÄ±</a></li>
    <li><a href="https://t.me/fragmentsmuzik" target="_blank" rel="noopener">Test ve Topluluk Grubu</a></li>
    <li><a href="https://t.me/l0110310132100101110105122" target="_blank" rel="noopener">GeliÅŸtirici</a></li>
  </ul>
</footer>

<script>
  // Saat ve tarih
  const clockEl = document.getElementById('clock');
  function updateClock() {
    const now = new Date();
    const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
    clockEl.textContent = now.toLocaleTimeString([], {hour12:false}) + ' - ' + now.toLocaleDateString(undefined, options);
  }
  setInterval(updateClock, 1000);
  updateClock();

  // Dil seÃ§imi localStorage ile kalÄ±cÄ±
  const langSelect = document.getElementById('lang-select');
  const supportedLangs = ['tr','en','ru','ar'];
  const userLang = localStorage.getItem('fragmentsLang') || (navigator.language ? navigator.language.slice(0,2) : 'tr');
  langSelect.value = supportedLangs.includes(userLang) ? userLang : 'tr';

  const i18n = {
    tr: {
      about_title: "Fragments MÃ¼zik Botu",
      about_desc: "Fragments, Telegram Ã¼zerinden saniyeler iÃ§inde ÅŸarkÄ± indirmeni saÄŸlayan; sade, ÅŸÄ±k ve gÃ¼Ã§lÃ¼ bir mÃ¼zik botudur. MÃ¼zik sadece bir ses deÄŸil, bir tutkudurâ€¦ ğŸ¶",
      commands_title: "KullanÄ±labilir Komutlar",
      premium_title: "Premium AyrÄ±calÄ±klarÄ±",
      rest_title: "GÃ¼nlÃ¼k Dinlenme ZamanÄ±",
      note_title: "Ã–nemli Not",
      developer_title: "GeliÅŸtirici",
      supporters_title: "Fragmentsâ€™Ä±n Kalbinde Yatan GÃ¼Ã§: DestekÃ§iler",
    },
    en: {
      about_title: "Fragments Music Bot",
      about_desc: "Fragments is a sleek, powerful music bot for Telegram that lets you download songs in seconds. Music is not just sound, it's a passionâ€¦ ğŸ¶",
      commands_title: "Available Commands",
      premium_title: "Premium Privileges",
      rest_title: "Daily Rest Time",
      note_title: "Important Note",
      developer_title: "Developer",
      supporters_title: "The Heart of Fragments: Supporters",
    },
    ru: {
      about_title: "ĞœÑƒĞ·Ñ‹ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ±Ğ¾Ñ‚ Fragments",
      about_desc: "Fragments â€” ÑÑ‚Ğ¾ Ğ¼Ğ¾Ñ‰Ğ½Ñ‹Ğ¹ Ğ¸ ÑÑ‚Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼ÑƒĞ·Ñ‹ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ±Ğ¾Ñ‚ Ğ´Ğ»Ñ Telegram, Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑÑ‰Ğ¸Ğ¹ ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ¿ĞµÑĞ½Ğ¸ Ğ·Ğ° ÑĞµĞºÑƒĞ½Ğ´Ñ‹. ĞœÑƒĞ·Ñ‹ĞºĞ° â€” ÑÑ‚Ğ¾ Ğ½Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ·Ğ²ÑƒĞº, ÑÑ‚Ğ¾ ÑÑ‚Ñ€Ğ°ÑÑ‚ÑŒâ€¦ ğŸ¶",
      commands_title: "Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹",
      premium_title: "ĞŸÑ€ĞµĞ¼Ğ¸ÑƒĞ¼ Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°",
      rest_title: "Ğ•Ğ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ°",
      note_title: "Ğ’Ğ°Ğ¶Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ",
      developer_title: "Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº",
      supporters_title: "Ğ¡ĞµÑ€Ğ´Ñ†Ğµ Fragments: ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°",
    },
    ar: {
      about_title: "Ø¨ÙˆØª ÙØ±Ø§ØºÙ…Ù†ØªØ³ Ù„Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰",
      about_desc: "ÙØ±Ø§ØºÙ…Ù†ØªØ³ Ù‡Ùˆ Ø¨ÙˆØª Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø£Ù†ÙŠÙ‚ ÙˆÙ‚ÙˆÙŠ Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… ÙŠØ³Ù…Ø­ Ù„Ùƒ Ø¨ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ø£ØºØ§Ù†ÙŠ Ø®Ù„Ø§Ù„ Ø«ÙˆØ§Ù†Ù. Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ù„ÙŠØ³Øª Ù…Ø¬Ø±Ø¯ ØµÙˆØªØŒ Ø¥Ù†Ù‡Ø§ Ø´ØºÙâ€¦ ğŸ¶",
      commands_title: "Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ØªØ§Ø­Ø©",
      premium_title: "Ø§Ù…ØªÙŠØ§Ø²Ø§Øª Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ…",
      rest_title: "ÙˆÙ‚Øª Ø§Ù„Ø±Ø§Ø­Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠ",
      note_title: "Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©",
      developer_title: "Ø§Ù„Ù…Ø·ÙˆØ±",
      supporters_title: "Ù‚Ù„Ø¨ ÙØ±Ø§ØºÙ…Ù†ØªØ³: Ø§Ù„Ø¯Ø§Ø¹Ù…ÙŠÙ†",
    }
  };

  function setLanguage(lang) {
    localStorage.setItem('fragmentsLang', lang);
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      if(i18n[lang] && i18n[lang][key]) {
        el.textContent = i18n[lang][key];
      }
    });
  }
  setLanguage(langSelect.value);
  langSelect.addEventListener('change', e => {
    setLanguage(e.target.value);
  });

  // Modal Setup
  function setupModal(id, triggerSelectors) {
    const modal = document.getElementById(id);
    const closeBtn = modal.querySelector('.modal-close');

    triggerSelectors.forEach(sel => {
      document.querySelectorAll(sel).forEach(btn => {
        btn.addEventListener('click', () => {
          modal.classList.add('active');
          modal.setAttribute('tabindex', '-1');
          modal.focus();
        });
      });
    });

    closeBtn.addEventListener('click', () => {
      modal.classList.remove('active');
    });

    window.addEventListener('keydown', e => {
      if(e.key === 'Escape' && modal.classList.contains('active')) {
        modal.classList.remove('active');
      }
    });
  }
  setupModal('reply-modal', []);

  // Comment system with reply feature & "sending email" simulation
  const commentsList = document.getElementById('comments-list');
  const commentForm = document.getElementById('comment-form');
  const commentNameInput = document.getElementById('name-input');
  const commentEmailInput = document.getElementById('email-input');
  const commentTextInput = document.getElementById('comment-input');

  const replyModal = document.getElementById('reply-modal');
  const replyForm = document.getElementById('reply-form');
  const replyToName = document.getElementById('reply-to-name');
  const replyNameInput = document.getElementById('reply-name-input');
  const replyEmailInput = document.getElementById('reply-email-input');
  const replyTextarea = document.getElementById('reply-textarea');

  let comments = JSON.parse(localStorage.getItem('fragmentsComments') || '[]');

  function renderComments() {
    commentsList.innerHTML = '';
    comments.forEach((c, i) => {
      const div = document.createElement('div');
      div.classList.add('comment');
      div.setAttribute('data-index', i);
      div.innerHTML = `
        <strong>${escapeHTML(c.name)}</strong> <span class="comment-email">&lt;${escapeHTML(c.email)}&gt;</span>
        <p class="comment-text">${escapeHTML(c.text)}</p>
        ${c.reply ? `<div style="margin-left:1rem; border-left: 2px solid #ff4081; padding-left: 0.8rem; margin-top:0.3rem;">
        <strong>YanÄ±t:</strong> <p>${escapeHTML(c.reply.text)}</p>
        </div>` : ''}
        <button class="reply-btn" aria-label="YanÄ±tla" title="YanÄ±tla">YanÄ±tla</button>
      `;
      commentsList.appendChild(div);
    });
  }

  // HTML escape to prevent XSS
  function escapeHTML(text) {
    return text.replace(/[&<>"']/g, function(m) {
      return {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
      }[m];
    });
  }

  // Open reply modal and prefill who we reply to
  commentsList.addEventListener('click', e => {
    if(e.target.classList.contains('reply-btn')) {
      const commentDiv = e.target.closest('.comment');
      const idx = commentDiv.getAttribute('data-index');
      replyToName.textContent = comments[idx].name;
      replyModal.classList.add('active');
      replyNameInput.value = '';
      replyEmailInput.value = '';
      replyTextarea.value = '';
      replyModal.dataset.replyIndex = idx;
      replyNameInput.focus();
    }
  });

  // Submit new comment
  commentForm.addEventListener('submit', e => {
    e.preventDefault();
    if(!commentNameInput.value.trim() || !commentEmailInput.value.trim() || !commentTextInput.value.trim()) {
      alert('LÃ¼tfen tÃ¼m alanlarÄ± doldurun!');
      return;
    }
    comments.push({
      name: commentNameInput.value.trim(),
      email: commentEmailInput.value.trim(),
      text: commentTextInput.value.trim(),
      reply: null
    });
    localStorage.setItem('fragmentsComments', JSON.stringify(comments));
    commentForm.reset();
    renderComments();
  });

  // Submit reply and simulate sending email to original commenter
  replyForm.addEventListener('submit', e => {
    e.preventDefault();
    if(!replyNameInput.value.trim() || !replyEmailInput.value.trim() || !replyTextarea.value.trim()) {
      alert('LÃ¼tfen tÃ¼m alanlarÄ± doldurun!');
      return;
    }
    const idx = parseInt(replyModal.dataset.replyIndex);
    comments[idx].reply = {
      name: replyNameInput.value.trim(),
      email: replyEmailInput.value.trim(),
      text: replyTextarea.value.trim()
    };
    localStorage.setItem('fragmentsComments', JSON.stringify(comments));
    renderComments();
    replyModal.classList.remove('active');

    // Burada gerÃ§ek mail gÃ¶nderme backend entegrasyonu yapÄ±labilir.
    // Ã–rnek: fetch('/api/sendMail', { method: 'POST', body: JSON.stringify({...}) })

    alert(`YanÄ±t gÃ¶nderildi!\n"${comments[idx].name}" kullanÄ±cÄ±sÄ±na mail gÃ¶nderildi (simÃ¼lasyon).`);
  });

  renderComments();
</script>

</body>
</html>
