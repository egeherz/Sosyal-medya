<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>HESAPLARIM - EGE DENƒ∞Z</title>
<link rel="icon" href="favicon.png" type="image/png" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

<style>
  * {
    box-sizing: border-box;
    margin: 0; padding: 0;
  }
  html, body {
    height: 100%;
    font-family: 'Poppins', sans-serif;
    background: url('https://i.imgur.com/yslsfnW.jpeg') no-repeat center center fixed;
    background-size: cover;
    color: #fff;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    padding: 40px 20px 100px;
    transition: background 0.8s ease;
    overflow-x: hidden;
  }
  body.theme2 {
    background-image: url('https://i.imgur.com/0R4Zsdr.jpeg');
  }

  main {
    margin-top: 40px;
    max-width: 420px;
    width: 100%;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
  }

  /* Sosyal medya butonlarƒ± */
  main a {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-weight: 700;
    font-size: 1.1rem;
    text-decoration: none;
    color: white;
    padding: 18px 0;
    border-radius: 18px;
    background: linear-gradient(45deg, #ff004f, #6600ff, #00e5ff, #ff004f);
    background-size: 300% 300%;
    animation: gradientShift 6s ease infinite;
    box-shadow:
      0 0 8px #ff004f,
      0 0 16px #6600ff,
      0 0 24px #00e5ff,
      inset 0 0 8px #6600ff;
    cursor: pointer;
    user-select: none;
    transition: all 0.3s ease;
  }
  main a i {
    font-size: 1.6rem;
    text-shadow: 0 0 8px #fff;
    min-width: 26px;
    text-align: center;
  }
  main a:hover {
    transform: scale(1.05) rotate(2deg);
    box-shadow:
      0 0 15px #ff005f,
      0 0 32px #7700ff,
      0 0 44px #00e5ff,
      inset 0 0 15px #7700ff;
    text-shadow: 0 0 20px #fff;
  }
  main a::after {
    content: '';
    position: absolute;
    top: -60%;
    left: -60%;
    width: 220%;
    height: 220%;
    background: linear-gradient(120deg, transparent, rgba(255,255,255,0.12), transparent);
    transform: rotate(25deg);
    animation: shine 4s infinite linear;
    pointer-events: none;
  }

  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  @keyframes shine {
    0% { transform: translate(-100%, -100%) rotate(25deg); }
    100% { transform: translate(100%, 100%) rotate(25deg); }
  }

  /* Tema deƒüi≈ütir butonu */
  #themeToggle {
    position: fixed;
    bottom: 16px;
    right: 16px;
    background: rgba(255,255,255,0.1);
    border: none;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    cursor: pointer;
    color: #fff;
    font-size: 1.4rem;
    box-shadow: 0 0 8px #0ff;
    transition: background 0.3s ease;
    z-index: 999;
  }
  #themeToggle:hover {
    background: rgba(255,255,255,0.25);
  }

  /* ≈ûarkƒ± listesi modal */
  #playlistModal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    display: none;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    padding: 40px 20px 20px;
    z-index: 1000;
  }
  #playlistModal.show {
    display: flex;
  }

  #playlistModal h2 {
    font-size: 1.6rem;
    font-weight: 700;
    margin-bottom: 8px;
    position: relative;
    width: 100%;
    max-width: 420px;
    text-align: center;
  }
  #playlistModal h2::after {
    content: "Beta ‚ö†Ô∏è";
    color: #ff5353;
    font-weight: 800;
    font-size: 1rem;
    position: absolute;
    top: 0;
    right: 10px;
    user-select: none;
  }

  #searchSongs {
    width: 100%;
    max-width: 420px;
    padding: 10px 14px;
    margin-bottom: 20px;
    font-size: 1rem;
    border-radius: 12px;
    border: none;
    outline: none;
  }

  #songList {
    width: 100%;
    max-width: 420px;
    max-height: 320px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  #songList button {
    background: linear-gradient(45deg, #6600ff, #00e5ff);
    border: none;
    border-radius: 12px;
    padding: 12px 20px;
    color: #fff;
    font-weight: 600;
    font-size: 1rem;
    text-align: left;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  #songList button:hover {
    background: linear-gradient(45deg, #ff004f, #00e5ff);
  }

  /* Modal kapatma butonu */
  #closeModalBtn {
    position: fixed;
    top: 20px;
    right: 20px;
    background: transparent;
    border: none;
    font-size: 1.8rem;
    color: #fff;
    cursor: pointer;
    z-index: 1001;
    user-select: none;
    transition: color 0.3s ease;
  }
  #closeModalBtn:hover {
    color: #ff004f;
  }

  /* Player UI - sadece g√∂r√ºn√ºr ≈üarkƒ± √ßalarken */
  #playerUI {
    position: fixed;
    bottom: 80px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(10px);
    border-radius: 22px;
    box-shadow: 0 0 20px #00e5ff;
    padding: 14px 24px;
    width: 420px;
    max-width: 90vw;
    display: none;
    flex-direction: column;
    align-items: center;
    user-select: none;
    z-index: 900;
  }

  #currentTrackName {
    font-weight: 700;
    font-size: 1.3rem;
    margin-bottom: 8px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 100%;
    text-align: center;
  }

  #progressContainer {
    position: relative;
    background: rgba(255,255,255,0.15);
    border-radius: 12px;
    cursor: pointer;
    width: 100%;
    height: 12px;
    margin-bottom: 14px;
  }

  #progress {
    background: #00e5ff;
    height: 100%;
    width: 0%;
    border-radius: 12px;
    transition: width 0.1s linear;
  }

  #progressThumb {
    position: absolute;
    top: 50%;
    left: 0%;
    transform: translate(-50%, -50%);
    width: 18px;
    height: 18px;
    background: #00e5ff;
    border-radius: 50%;
    box-shadow: 0 0 10px #00e5ff;
    pointer-events: none;
  }

  #timeDisplay {
    font-size: 0.9rem;
    color: #a0f0ff;
    margin-bottom: 12px;
    text-align: center;
    user-select: none;
  }

  #controls {
    display: flex;
    justify-content: center;
    gap: 32px;
  }

  #controls button {
    background: linear-gradient(45deg, #ff004f, #6600ff);
    border: none;
    border-radius: 50%;
    width: 52px;
    height: 52px;
    cursor: pointer;
    color: #fff;
    font-size: 1.5rem;
    box-shadow:
      0 0 8px #ff004f,
      0 0 14px #6600ff;
    transition: all 0.3s ease;
  }
  #controls button:hover {
    box-shadow:
      0 0 15px #ff005f,
      0 0 24px #7700ff;
    transform: scale(1.1);
  }
  #controls button:focus {
    outline: none;
    box-shadow:
      0 0 15px #ff005f,
      0 0 24px #7700ff,
      0 0 30px #00e5ff;
  }

  /* Responsive */
  @media (max-width: 520px) {
    main {
      max-width: 100%;
      grid-template-columns: repeat(2, 1fr);
      gap: 14px;
      margin-top: 30px;
    }
    main a {
      font-size: 1rem;
      padding: 14px 0;
      border-radius: 14px;
    }
    main a i {
      font-size: 1.3rem;
      min-width: 22px;
    }
    #playerUI {
      width: 95vw;
      bottom: 70px;
      padding: 12px 18px;
    }
    #controls button {
      width: 44px;
      height: 44px;
      font-size: 1.2rem;
    }
  }

</style>
</head>
<body>

<main>
  <a href="https://instagram.com/10110310132100101110105l22" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i>Instagram</a>
  <a href="https://t.me/l0110310132100101110105122" target="_blank" aria-label="Telegram"><i class="fab fa-telegram"></i>Telegram</a>
  <a href="https://www.tiktok.com/@010169716901l7" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i>TikTok</a>
  <button id="openPlaylistBtn" aria-haspopup="dialog" aria-expanded="false" aria-controls="playlistModal" style="background:#00e5ff; color:#000; font-weight:700; border-radius:18px; border:none; cursor:pointer; font-size:1.1rem; padding:18px 0; box-shadow: 0 0 20px #00e5ff;">≈ûarkƒ± Listesi</button>
</main>

<!-- Modal for playlist -->
<div id="playlistModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1">
  <button id="closeModalBtn" aria-label="Kapat"><i class="fas fa-times"></i></button>
  <h2 id="modalTitle">≈ûarkƒ± Listesi</h2>
  <input type="search" id="searchSongs" placeholder="≈ûarkƒ± ismine tƒ±klayarak dinlemeye ba≈ülayabilirsiniz Daha fazla eklenecektir ü•≥." aria-label="≈ûarkƒ± ara" />
  <div id="songList" tabindex="0" aria-live="polite" aria-relevant="additions"></div>
</div>

<!-- Player UI -->
<div id="playerUI" aria-live="polite" aria-atomic="true">
  <div id="currentTrackName" aria-label="≈ûu an √ßalƒ±yor"></div>
  <div id="progressContainer" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" tabindex="0">
    <div id="progress"></div>
    <div id="progressThumb"></div>
  </div>
  <div id="timeDisplay" aria-live="off" aria-atomic="true">00:00 / 00:00</div>
  <div id="controls">
    <button id="prevBtn" aria-label="√ñnceki ≈üarkƒ±"><i class="fas fa-backward"></i></button>
    <button id="playPauseBtn" aria-label="Oynat/Durdur"><i class="fas fa-play"></i></button>
    <button id="stopBtn" aria-label="Durdur"><i class="fas fa-stop"></i></button>
    <button id="nextBtn" aria-label="Sonraki ≈üarkƒ±"><i class="fas fa-forward"></i></button>
  </div>
</div>

<!-- Audio element -->
<audio id="bgMusic" preload="metadata"></audio>

<!-- Tema deƒüi≈ütir butonu -->
<button id="themeToggle" aria-pressed="false" aria-label="Tema deƒüi≈ütir" title="Tema deƒüi≈ütir"><i class="fas fa-adjust"></i></button>

<script>
  (function(){
    const songs = [
      {name:"Juice WRLD - Let Me Know", src:"Juice WRLD Let Me Know (I Wonder Why Freestyle) (Official Audio).mp3"},
      {name:"Doja Cat - Streets", src:"Doja Cat - Streets (Official Audio).mp3"},
      {name:"lliinnee", src:"lliinnee.mp3"},
      {name:"Lana Del Rey - Summertime Sadness", src:"Lana Del Rey - Summertime Sadness (Official Music Video).mp3"},
      {name:"Nicky Jam - Hasta el Amanecer", src:"22. Hasta el Amanecer - Nicky Jam  Video Oficial.mp3"},
      {name:"Amor Na Praia", src:"Amor Na Praia.mp3"},
      {name:"Smezir 2 (Slowed)", src:"smezir 2 (Super Slowed).mp3"},
      {name:"Djo - End Of Beginning", src:"Djo - End Of Beginning (Official Audio).mp3"},
      {name:"Twenty One Pilots - Doubt", src:"twenty-one-pilots-Doubt-_Official-Audio_.mp3"},
      {name:"lil 17th - Mary Jane", src:"lil 17th - Mary Jane.mp3"},
      {name:"XXXTENTACION - MOONLIGHT", src:"XXXTENTACION - MOONLIGHT (OFFICIAL MUSIC VIDEO).mp3"},
      {name:"t.A.T.u. - All The Things She Said", src:"t.A.T.u. - All The Things She Said (Official Music Video).mp3"},
      {name:"Tame Impala - Let It Happen", src:"tame_impala_let_it_happen_mp3_55159.mp3"},
      {name:"Funk - Mi Camino", src:"funk_mi_camino_mp3_55239.mp3"}
    ];

    // Elements
    const bgMusic = document.getElementById('bgMusic');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const stopBtn = document.getElementById('stopBtn');
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const progressContainer = document.getElementById('progressContainer');
    const progress = document.getElementById('progress');
    const progressThumb = document.getElementById('progressThumb');
    const timeDisplay = document.getElementById('timeDisplay');
    const currentTrackName = document.getElementById('currentTrackName');
    const playerUI = document.getElementById('playerUI');
    const playlistModal = document.getElementById('playlistModal');
    const openPlaylistBtn = document.getElementById('openPlaylistBtn');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const songListDiv = document.getElementById('songList');
    const searchSongs = document.getElementById('searchSongs');
    const themeToggle = document.getElementById('themeToggle');

    let currentIndex = -1;
    let isPlaying = false;
    let isDragging = false;

    // Load last song index from localStorage
    if(localStorage.getItem('lastSongIndex')){
      currentIndex = parseInt(localStorage.getItem('lastSongIndex'));
    }

    // Render song list in modal
    function renderSongList(filter = ''){
      songListDiv.innerHTML = '';
      const filtered = songs.filter(s => s.name.toLowerCase().includes(filter.toLowerCase()));
      filtered.forEach((song,i) => {
        const btn = document.createElement('button');
        btn.textContent = song.name;
        btn.setAttribute('data-index', songs.indexOf(song));
        btn.onclick = () => {
          loadSong(songs.indexOf(song));
          closeModal();
        };
        songListDiv.appendChild(btn);
      });
    }
    renderSongList();

    // Open and close modal
    function openModal(){
      playlistModal.classList.add('show');
      openPlaylistBtn.setAttribute('aria-expanded', 'true');
      searchSongs.focus();
    }
    function closeModal(){
      playlistModal.classList.remove('show');
      openPlaylistBtn.setAttribute('aria-expanded', 'false');
      openPlaylistBtn.focus();
    }

    openPlaylistBtn.addEventListener('click', openModal);
    closeModalBtn.addEventListener('click', closeModal);
    // Close modal on ESC
    window.addEventListener('keydown', e => {
      if(e.key === 'Escape' && playlistModal.classList.contains('show')){
        closeModal();
      }
    });

    // Search songs filter
    searchSongs.addEventListener('input', e => {
      renderSongList(e.target.value);
    });

    // Load song
    function loadSong(index){
      if(index < 0 || index >= songs.length) return;
      currentIndex = index;
      bgMusic.src = songs[index].src;
      currentTrackName.textContent = songs[index].name;
      playerUI.style.display = 'flex';
      playSong();
      localStorage.setItem('lastSongIndex', currentIndex);
    }

    // Play song
    function playSong(){
      bgMusic.play();
      isPlaying = true;
      updatePlayPauseBtn();
    }

    // Pause song
    function pauseSong(){
      bgMusic.pause();
      isPlaying = false;
      updatePlayPauseBtn();
    }

    // Toggle play/pause
    playPauseBtn.addEventListener('click', () => {
      if(isPlaying) pauseSong();
      else playSong();
    });

    // Stop song
    stopBtn.addEventListener('click', () => {
      pauseSong();
      bgMusic.currentTime = 0;
    });

    // Next song
    nextBtn.addEventListener('click', () => {
      playNextSong();
    });

    // Prev song
    prevBtn.addEventListener('click', () => {
      playPrevSong();
    });

    // Play next song helper
    function playNextSong(){
      currentIndex++;
      if(currentIndex >= songs.length) currentIndex = 0;
      loadSong(currentIndex);
    }

    // Play prev song helper
    function playPrevSong(){
      currentIndex--;
      if(currentIndex < 0) currentIndex = songs.length - 1;
      loadSong(currentIndex);
    }

    // Update play/pause button icon
    function updatePlayPauseBtn(){
      if(isPlaying){
        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
      } else {
        playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
      }
    }

    // Update progress bar and time display
    bgMusic.addEventListener('timeupdate', () => {
      if(!isDragging){
        const progressPercent = (bgMusic.currentTime / bgMusic.duration) * 100 || 0;
        progress.style.width = progressPercent + '%';
        progressThumb.style.left = progressPercent + '%';
        updateTimeDisplay(bgMusic.currentTime, bgMusic.duration);
        // Update slider aria value
        progressContainer.setAttribute('aria-valuenow', Math.floor(progressPercent));
      }
    });

    // Format time in mm:ss
    function formatTime(time){
      const mins = Math.floor(time / 60) || 0;
      const secs = Math.floor(time % 60) || 0;
      return `${mins < 10 ? '0' + mins : mins}:${secs < 10 ? '0' + secs : secs}`;
    }

    // Update time display text
    function updateTimeDisplay(current, duration){
      timeDisplay.textContent = `${formatTime(current)} / ${formatTime(duration)}`;
    }

    // Seek on click or drag progress bar
    progressContainer.addEventListener('click', e => {
      const rect = progressContainer.getBoundingClientRect();
      const clickX = e.clientX - rect.left;
      const percentage = clickX / rect.width;
      bgMusic.currentTime = percentage * bgMusic.duration;
    });

    // Drag functionality for progress thumb
    progressThumb.addEventListener('mousedown', e => {
      isDragging = true;
      window.addEventListener('mousemove', onDrag);
      window.addEventListener('mouseup', onStopDrag);
      e.preventDefault();
    });
    function onDrag(e){
      const rect = progressContainer.getBoundingClientRect();
      let newX = e.clientX - rect.left;
      if(newX < 0) newX = 0;
      if(newX > rect.width) newX = rect.width;
      const percentage = newX / rect.width;
      progress.style.width = (percentage * 100) + '%';
      progressThumb.style.left = (percentage * 100) + '%';
      bgMusic.currentTime = percentage * bgMusic.duration;
    }
    function onStopDrag(){
      isDragging = false;
      window.removeEventListener('mousemove', onDrag);
      window.removeEventListener('mouseup', onStopDrag);
    }

    // Auto play next song when current ends
    bgMusic.addEventListener('ended', () => {
      playNextSong();
    });

    // Load last song on page load if any
    window.addEventListener('load', () => {
      if(currentIndex !== -1) {
        loadSong(currentIndex);
      }
    });

    // Theme toggle
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('theme2');
      const pressed = document.body.classList.contains('theme2');
      themeToggle.setAttribute('aria-pressed', pressed);
    });

  })();
</script>

<footer style="position:fixed; bottom: 12px; width: 100%; text-align: center; font-size: 0.95rem; color: rgba(255,255,255,0.7); text-shadow: 0 0 4px #000; user-select:none;">
  ¬© 2025 Ege Deniz. All rights reserved.
</footer>

</body>
</html>
