<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>HESAPLARIM - EGE DENİZ</title>
<link rel="icon" href="favicon.png" type="image/png" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
  /* --- Reset & Genel Ayarlar --- */
  * {
    box-sizing: border-box;
    margin: 0; padding: 0;
  }
  html, body {
    height: 100%;
    width: 100%;
    font-family: 'Poppins', sans-serif;
    background: url('https://i.imgur.com/yslsfnW.jpeg') no-repeat center center fixed;
    background-size: cover;
    color: #fff;
    overflow-x: hidden;
    transition: background-image 0.6s ease;
    user-select: none;
  }
  body.theme2 {
    background-image: url('https://i.imgur.com/0R4Zsdr.jpeg');
  }

  /* --- Ana Butonlar (2x2 grid) --- */
  main {
    margin: 40px auto 140px;
    max-width: 420px;
    width: 100%;
    background: rgba(0,0,0,0.18);
    border-radius: 22px;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 0 30px rgba(0,255,255,0.2);
    padding: 20px;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 18px 20px;
    z-index: 2;
  }
  main button, main a {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    font-weight: 700;
    font-size: 1.1rem;
    text-decoration: none;
    color: white;
    padding: 14px 0;
    border-radius: 18px;
    background: linear-gradient(135deg, #ff005f, #6600ff, #00d0ff);
    background-size: 300% 300%;
    animation: gradientShift 7s ease infinite;
    box-shadow:
      0 0 10px #ff005f,
      0 0 18px #6600ff,
      0 0 30px #00d0ff,
      inset 0 0 12px #6600ff;
    border: none;
    cursor: pointer;
    user-select: none;
    transition: all 0.3s ease;
  }
  main button i, main a i {
    font-size: 1.6rem;
    text-shadow: 0 0 10px #fff;
    min-width: 24px;
    text-align: center;
  }
  main button:hover, main a:hover {
    transform: scale(1.1) rotateZ(3deg);
    box-shadow:
      0 0 20px #ff007f,
      0 0 36px #7700ff,
      0 0 50px #00e5ff,
      inset 0 0 20px #7700ff;
    text-shadow: 0 0 25px #fff;
  }
  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* --- Müzik Kontrolleri --- */
  #controls {
    margin: 24px auto 0;
    max-width: 420px;
    width: 100%;
    display: none;
    justify-content: center;
    gap: 32px;
    align-items: center;
    z-index: 3;
  }
  #controls button {
    background: linear-gradient(135deg, #ff005f, #6600ff, #00d0ff);
    background-size: 300% 300%;
    animation: gradientShift 7s ease infinite;
    border: none;
    border-radius: 50%;
    width: 56px;
    height: 56px;
    color: white;
    font-size: 1.8rem;
    cursor: pointer;
    box-shadow:
      0 0 10px #ff005f,
      0 0 20px #6600ff,
      0 0 30px #00d0ff,
      inset 0 0 12px #6600ff;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    user-select: none;
    position: relative;
  }
  #controls button:hover {
    transform: scale(1.15) rotateZ(5deg);
    box-shadow:
      0 0 25px #ff007f,
      0 0 40px #7700ff,
      0 0 55px #00e5ff,
      inset 0 0 25px #7700ff;
    text-shadow: 0 0 28px #fff;
  }
  #controls button:active {
    animation: vibrate 0.15s linear 2;
  }
  @keyframes vibrate {
    0%, 100% { transform: translateX(0) rotateZ(0); }
    25% { transform: translateX(-2px) rotateZ(-3deg); }
    50% { transform: translateX(2px) rotateZ(3deg); }
    75% { transform: translateX(-2px) rotateZ(-3deg); }
  }

  /* --- Şarkı Adı ve İlerleme Çubuğu --- */
  #currentTrackName {
    margin: 16px auto 6px;
    max-width: 420px;
    width: 100%;
    font-weight: 800;
    font-size: 1.5rem;
    text-align: center;
    color: #00e5ff;
    text-shadow:
      0 0 12px #00e5ff,
      0 0 24px #00e5ff,
      0 0 36px #00e5ff;
    display: none;
    user-select: none;
    animation: neonPulse 2.8s ease-in-out infinite;
  }
  @keyframes neonPulse {
    0%, 100% { text-shadow: 0 0 12px #00e5ff, 0 0 24px #00e5ff, 0 0 36px #00e5ff; }
    50% { text-shadow: 0 0 18px #00ffff, 0 0 36px #00ffff, 0 0 54px #00ffff; }
  }

  #timeDisplay {
    max-width: 420px;
    width: 100%;
    margin: 2px auto 10px;
    font-size: 1rem;
    text-align: center;
    color: #a0e9ff;
    text-shadow: 0 0 8px #000;
    display: none;
    user-select: none;
  }
  #progressContainer {
    margin: 0 auto 0;
    max-width: 420px;
    width: 100%;
    height: 14px;
    background: rgba(255,255,255,0.15);
    border-radius: 14px;
    cursor: pointer;
    box-shadow: inset 0 0 10px rgba(255,255,255,0.25);
    display: none;
    position: relative;
  }
  #progress {
    height: 14px;
    background: linear-gradient(90deg, #ff005f, #6600ff, #00d0ff);
    border-radius: 14px;
    width: 0%;
    transition: width 0.15s linear;
    box-shadow: 0 0 20px #00d0ff;
    position: absolute;
    top: 0; left: 0;
  }
  #progressThumb {
    position: absolute;
    top: 50%;
    left: 0;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 20px;
    background: #00d0ff;
    border-radius: 50%;
    box-shadow:
      0 0 10px #00e5ff,
      0 0 25px #00e5ff;
    cursor: pointer;
    transition: background 0.3s ease;
    user-select: none;
  }
  #progressThumb:hover {
    background: #00ffff;
  }

  /* --- Ses Kontrol --- */
  #volumeControl {
    margin: 14px auto 0;
    max-width: 420px;
    width: 100%;
    display: none;
    justify-content: center;
    align-items: center;
    gap: 12px;
    color: #00d0ff;
  }
  #volumeControl label {
    font-weight: 600;
    user-select: none;
  }
  #volumeControl input[type="range"] {
    -webkit-appearance: none;
    width: 160px;
    height: 6px;
    background: linear-gradient(135deg, #ff005f, #6600ff, #00d0ff);
    border-radius: 6px;
    outline: none;
    cursor: pointer;
    box-shadow:
      0 0 10px #ff005f,
      0 0 20px #6600ff,
      0 0 30px #00d0ff;
    transition: background 0.3s ease;
  }
  #volumeControl input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    background: #00d0ff;
    cursor: pointer;
    border-radius: 50%;
    box-shadow:
      0 0 10px #00e5ff,
      0 0 20px #00e5ff;
    transition: background 0.3s ease;
  }
  #volumeControl input[type="range"]:hover::-webkit-slider-thumb {
    background: #00ffff;
  }
  #volumeControl input[type="range"]::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: #00d0ff;
    cursor: pointer;
    border-radius: 50%;
    box-shadow:
      0 0 10px #00e5ff,
      0 0 20px #00e5ff;
    transition: background 0.3s ease;
  }
  #volumeControl input[type="range"]:hover::-moz-range-thumb {
    background: #00ffff;
  }

  /* --- Şarkı Listesi Modal --- */
  #playlistModal {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.96);
    backdrop-filter: blur(14px);
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 20px;
    z-index: 1000;
  }
  #playlistModal.visible {
    display: flex;
  }
  #playlistContent {
    background: rgba(0,0,0,0.88);
    border-radius: 22px;
    max-width: 480px;
    width: 90%;
    max-height: 82vh;
    overflow-y: auto;
    padding: 28px 20px 20px;
    box-shadow: 0 0 50px #00d0ff;
    position: relative;
    user-select: none;
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
  #betaTag {
    position: absolute;
    top: 22px;
    right: 24px;
    background: #ff005f;
    color: white;
    font-weight: 700;
    font-size: 1.1rem;
    padding: 6px 18px;
    border-radius: 24px;
    user-select: none;
    text-shadow: 0 0 7px #000;
    pointer-events: none;
    letter-spacing: 1.2px;
  }
  #playlistContent h2 {
    text-align: center;
    margin-bottom: 22px;
    user-select: none;
    font-weight: 900;
    font-size: 2rem;
    color: #00d0ff;
    text-shadow: 0 0 22px #000;
    letter-spacing: 1.4px;
  }
  #playlistContent p#playlistDesc {
    margin-bottom: 18px;
    font-weight: 500;
    font-size: 1rem;
    color: #99ccffbb;
  }
  #playlistContent input#searchSongs {
    margin-bottom: 18px;
    padding: 10px 14px;
    font-size: 1rem;
    border-radius: 14px;
    border: none;
    outline: none;
    box-shadow:
      0 0 10px #00d0ffaa inset;
    background: rgba(0, 0, 0, 0.35);
    color: white;
  }
  #playlistContent button.songBtn {
    width: 100%;
    padding: 16px 14px;
    font-weight: 700;
    font-size: 1.15rem;
    color: white;
    background: linear-gradient(135deg, #ff005f, #6600ff, #00d0ff);
    background-size: 300% 300%;
    animation: gradientShift 7s ease infinite;
    border-radius: 20px;
    border: none;
    margin-bottom: 14px;
    cursor: pointer;
    box-shadow:
      0 0 10px #ff005f,
      0 0 18px #6600ff,
      0 0 30px #00d0ff,
      inset 0 0 10px #6600ff;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: transform 0.3s ease;
    user-select: none;
    position: relative;
  }
  #playlistContent button.songBtn:hover {
    transform: scale(1.07) rotateZ(2deg);
    box-shadow:
      0 0 20px #ff007f,
      0 0 36px #7700ff,
      0 0 50px #00e5ff,
      inset 0 0 20px #7700ff;
    text-shadow: 0 0 25px #fff;
  }
  #closeModalBtn {
    margin-top: 14px;
    padding: 14px 0;
    width: 100%;
    font-size: 1.15rem;
    font-weight: 700;
    color: white;
    background: linear-gradient(135deg, #ff005f, #6600ff, #00d0ff);
    background-size: 300% 300%;
    animation: gradientShift 7s ease infinite;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    box-shadow:
      0 0 10px #ff005f,
      0 0 18px #6600ff,
      0 0 30px #00d0ff,
      inset 0 0 10px #6600ff;
    user-select: none;
    transition: transform 0.3s ease;
  }
  #closeModalBtn:hover {
    transform: scale(1.07) rotateZ(2deg);
    box-shadow:
      0 0 20px #ff007f,
      0 0 36px #7700ff,
      0 0 50px #00e5ff,
      inset 0 0 20px #7700ff;
    text-shadow: 0 0 25px #fff;
  }

  /* --- Tema Butonu --- */
  #themeToggle {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(0,0,0,0.35);
    backdrop-filter: blur(10px);
    border: 2px solid #00d0ff;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1001;
    box-shadow:
      0 0 15px #00d0ff,
      inset 0 0 12px #00d0ff;
    transition: transform 0.3s ease, background 0.3s ease;
  }
  #themeToggle:hover {
    transform: scale(1.1);
    background: rgba(0,0,0,0.6);
  }
  #themeToggle i {
    font-size: 1.8rem;
    color: #00d0ff;
    text-shadow: 0 0 14px #00d0ff;
  }
  body.theme2 #themeToggle i {
    color: #ff005f;
    text-shadow: 0 0 14px #ff005f;
    border-radius: 50%;
  }

  /* --- Footer --- */
  footer {
    position: fixed;
    bottom: 12px;
    width: 100%;
    text-align: center;
    font-size: 0.95rem;
    color: rgba(255,255,255,0.7);
    text-shadow: 0 0 6px #000;
    z-index: 10;
    user-select: none;
  }

  /* --- Responsive --- */
  @media (max-width: 520px) {
    main {
      max-width: 100%;
      padding: 16px 12px;
      gap: 14px 14px;
      margin: 24px auto 120px;
    }
    main button, main a {
      font-size: 1rem;
      padding: 12px 0;
    }
    main button i, main a i {
      font-size: 1.4rem;
      min-width: 20px;
    }
    #controls {
      gap: 18px;
    }
    #controls button {
      width: 48px;
      height: 48px;
      font-size: 1.4rem;
    }
    #currentTrackName {
      font-size: 1.2rem;
    }
    #timeDisplay {
      font-size: 0.9rem;
    }
    #progressContainer {
      height: 12px;
    }
    #progressThumb {
      width: 16px;
      height: 16px;
    }
    #volumeControl input[type="range"] {
      width: 140px;
    }
    #themeToggle {
      width: 44px;
      height: 44px;
      top: 16px;
      right: 16px;
    }
  }
</style>
</head>
<body>

<main>
  <a href="https://instagram.com/10110310132100101110105l22" target="_blank" rel="noopener noreferrer"><i class="fab fa-instagram"></i>Instagram</a>
  <a href="https://t.me/l0110310132100101110105122" target="_blank" rel="noopener noreferrer"><i class="fab fa-telegram"></i>Telegram</a>
  <a href="https://www.tiktok.com/@010169716901l7" target="_blank" rel="noopener noreferrer"><i class="fab fa-tiktok"></i>TikTok</a>
  <button id="openPlaylistBtn" title="Şarkı Listesini Aç"><i class="fas fa-music"></i> Şarkı Listesi</button>
</main>

<!-- Müzik Kontrolleri -->
<div id="currentTrackName" aria-live="polite" aria-atomic="true" aria-label="Çalan Şarkı Adı"></div>
<div id="timeDisplay" aria-live="polite" aria-atomic="true" aria-label="Şarkı Süresi"></div>
<div id="progressContainer" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" tabindex="0" aria-label="Şarkı İlerleme Çubuğu">
  <div id="progress"></div>
  <div id="progressThumb" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="İlerleme Çubuğu Kaydırıcısı"></div>
</div>
<div id="volumeControl" aria-label="Ses Kontrolü" role="region">
  <label for="volumeSlider">Ses:</label>
  <input type="range" id="volumeSlider" min="0" max="1" step="0.01" aria-valuemin="0" aria-valuemax="1" aria-valuenow="0.5" />
</div>
<div id="controls" role="region" aria-label="Müzik Kontrolleri">
  <button id="rewindBtn" aria-label="Geri Sar 5 Saniye"><i class="fas fa-backward"></i></button>
  <button id="musicBtn" aria-label="Oynat/Durdur"><i class="fas fa-play"></i></button>
  <button id="forwardBtn" aria-label="İleri Sar 5 Saniye"><i class="fas fa-forward"></i></button>
</div>

<!-- Şarkı Listesi Modal -->
<div id="playlistModal" role="dialog" aria-modal="true" aria-labelledby="playlistTitle" aria-describedby="playlistDesc">
  <div id="playlistContent">
    <div id="betaTag">BETA</div>
    <h2 id="playlistTitle">Şarkı Listesi</h2>
    <p id="playlistDesc">Lütfen bir şarkı seçin.</p>
    <input type="search" id="searchSongs" placeholder="Şarkı Ara..." aria-label="Şarkı Ara" autocomplete="off" />
    <div id="songList" role="list">
      <button class="songBtn" data-src="Juice WRLD Let Me Know (I Wonder Why Freestyle) (Official Audio).mp3" type="button" role="listitem">Juice WRLD - Let Me Know</button>
      <button class="songBtn" data-src="Doja Cat - Streets (Official Audio).mp3" type="button" role="listitem">Doja Cat - Streets</button>
      <button class="songBtn" data-src="lliinnee.mp3" type="button" role="listitem">lliinnee</button>
      <button class="songBtn" data-src="Lana Del Rey - Summertime Sadness (Official Music Video).mp3" type="button" role="listitem">Lana Del Rey - Summertime Sadness</button>
      <button class="songBtn" data-src="22. Hasta el Amanecer - Nicky Jam  Video Oficial.mp3" type="button" role="listitem">Nicky Jam - Hasta el Amanecer</button>
      <button class="songBtn" data-src="Amor Na Praia.mp3" type="button" role="listitem">Amor Na Praia</button>
      <button class="songBtn" data-src="smezir 2 (Super Slowed).mp3" type="button" role="listitem">Smezir 2 (Slowed)</button>
      <button class="songBtn" data-src="Djo - End Of Beginning (Official Audio).mp3" type="button" role="listitem">Djo - End Of Beginning</button>
      <button class="songBtn" data-src="twenty-one-pilots-Doubt-_Official-Audio_.mp3" type="button" role="listitem">Twenty One Pilots - Doubt</button>
      <button class="songBtn" data-src="lil 17th - Mary Jane.mp3" type="button" role="listitem">lil 17th - Mary Jane</button>
      <button class="songBtn" data-src="XXXTENTACION - MOONLIGHT (OFFICIAL MUSIC VIDEO).mp3" type="button" role="listitem">XXXTENTACION - MOONLIGHT</button>
      <button class="songBtn" data-src="t.A.T.u. - All The Things She Said (Official Music Video).mp3" type="button" role="listitem">t.A.T.u. - All The Things She Said</button>
      <button class="songBtn" data-src="tame_impala_let_it_happen_mp3_55159.mp3" type="button" role="listitem">Tame Impala - Let It Happen</button>
      <button class="songBtn" data-src="funk_mi_camino_mp3_55239.mp3" type="button" role="listitem">Funk - Mi Camino</button>
    </div>
    <button id="closeModalBtn" type="button" aria-label="Şarkı Listesi Kapat">Kapat</button>
  </div>
</div>

<!-- Tema Değiştirici -->
<button id="themeToggle" aria-label="Tema Değiştir" title="Tema Değiştir"><i class="fas fa-adjust"></i></button>

<footer>© 2025 Ege Deniz. All rights reserved.</footer>

<audio id="bgMusic" preload="metadata" crossorigin="anonymous"></audio>

<script>
  const music = document.getElementById('bgMusic');
  const musicBtn = document.getElementById('musicBtn');
  const rewindBtn = document.getElementById('rewindBtn');
  const forwardBtn = document.getElementById('forwardBtn');
  const currentTrackName = document.getElementById('currentTrackName');
  const timeDisplay = document.getElementById('timeDisplay');
  const progressContainer = document.getElementById('progressContainer');
  const progress = document.getElementById('progress');
  const progressThumb = document.getElementById('progressThumb');
  const volumeControl = document.getElementById('volumeControl');
  const volumeSlider = document.getElementById('volumeSlider');
  const openPlaylistBtn = document.getElementById('openPlaylistBtn');
  const playlistModal = document.getElementById('playlistModal');
  const closeModalBtn = document.getElementById('closeModalBtn');
  const playlistButtons = document.querySelectorAll('#songList .songBtn');
  const themeToggle = document.getElementById('themeToggle');
  const body = document.body;
  const controls = document.getElementById('controls');

  let currentIndex = -1;
  let isDragging = false;

  function formatTime(sec) {
    const minutes = Math.floor(sec / 60);
    const seconds = Math.floor(sec % 60);
    return `${minutes}:${seconds.toString().padStart(2,'0')}`;
  }

  function playTrack(index) {
    if(index < 0 || index >= playlistButtons.length) return;
    const btn = playlistButtons[index];
    const src = btn.getAttribute('data-src');
    if(!src) return;

    if (!music.paused) {
      fadeOut(music, 400, () => {
        music.src = src;
        music.play();
        fadeIn(music, 400);
      });
    } else {
      music.src = src;
      music.play();
    }
    currentIndex = index;
    currentTrackName.textContent = btn.textContent;
    currentTrackName.style.display = 'block';
    timeDisplay.style.display = 'block';
    progressContainer.style.display = 'block';
    controls.style.display = 'flex';
    volumeControl.style.display = 'flex';
    musicBtn.innerHTML = '<i class="fas fa-pause"></i>';
    playlistModal.classList.remove('visible');
  }

  function fadeOut(audio, duration, callback) {
    let vol = audio.volume;
    const step = vol / (duration / 50);
    const fade = setInterval(() => {
      vol -= step;
      if(vol <= 0) {
        vol = 0;
        audio.volume = 0;
        clearInterval(fade);
        if(callback) callback();
      } else {
        audio.volume = vol;
      }
    }, 50);
  }
  function fadeIn(audio, duration) {
    let vol = 0;
    const step = 1 / (duration / 50);
    audio.volume = 0;
    const fade = setInterval(() => {
      vol += step;
      if(vol >= 1) {
        vol = 1;
        audio.volume = 1;
        clearInterval(fade);
      } else {
        audio.volume = vol;
      }
    }, 50);
  }

  musicBtn.addEventListener('click', () => {
    if(currentIndex === -1) return;
    if(music.paused) {
      music.play();
      musicBtn.innerHTML = '<i class="fas fa-pause"></i>';
    } else {
      music.pause();
      musicBtn.innerHTML = '<i class="fas fa-play"></i>';
    }
  });

  forwardBtn.addEventListener('click', () => {
    if(music.duration) {
      music.currentTime = Math.min(music.currentTime + 5, music.duration);
    }
  });

  rewindBtn.addEventListener('click', () => {
    music.currentTime = Math.max(music.currentTime - 5, 0);
  });

  music.addEventListener('timeupdate', () => {
    if(music.duration && !isDragging) {
      const percent = (music.currentTime / music.duration) * 100;
      progress.style.width = percent + '%';
      progressContainer.setAttribute('aria-valuenow', Math.floor(percent));
      timeDisplay.textContent = `${formatTime(music.currentTime)} / ${formatTime(music.duration)}`;
      progressThumb.style.left = percent + '%';
      progressThumb.setAttribute('aria-valuenow', Math.floor(percent));
    }
  });

  // İlerleme çubuğu sürükleme
  function updateProgressByX(x) {
    const rect = progressContainer.getBoundingClientRect();
    let pos = x - rect.left;
    pos = Math.min(Math.max(pos, 0), rect.width);
    const percent = (pos / rect.width);
    music.currentTime = percent * music.duration;
  }
  progressContainer.addEventListener('mousedown', e => {
    isDragging = true;
    updateProgressByX(e.clientX);
  });
  window.addEventListener('mousemove', e => {
    if(isDragging) updateProgressByX(e.clientX);
  });
  window.addEventListener('mouseup', e => {
    if(isDragging) {
      updateProgressByX(e.clientX);
      isDragging = false;
    }
  });
  // Dokunmatik için
  progressContainer.addEventListener('touchstart', e => {
    isDragging = true;
    updateProgressByX(e.touches[0].clientX);
  });
  progressContainer.addEventListener('touchmove', e => {
    if(isDragging) updateProgressByX(e.touches[0].clientX);
  });
  progressContainer.addEventListener('touchend', e => {
    if(isDragging) {
      isDragging = false;
    }
  });
  progressThumb.addEventListener('keydown', e => {
    if(currentIndex === -1) return;
    if(e.key === 'ArrowLeft' || e.key === 'ArrowDown') {
      e.preventDefault();
      music.currentTime = Math.max(music.currentTime - 5, 0);
    }
    if(e.key === 'ArrowRight' || e.key === 'ArrowUp') {
      e.preventDefault();
      music.currentTime = Math.min(music.currentTime + 5, music.duration);
    }
  });

  volumeSlider.addEventListener('input', () => {
    music.volume = volumeSlider.value;
  });
  // Başlangıç sesi 0.5
  volumeSlider.value = 0.5;
  music.volume = 0.5;

  music.addEventListener('ended', () => {
    currentIndex++;
    if(currentIndex >= playlistButtons.length) currentIndex = 0;
    playTrack(currentIndex);
  });

  openPlaylistBtn.addEventListener('click', () => {
    playlistModal.classList.add('visible');
    document.getElementById('searchSongs').value = '';
    filterSongs('');
  });

  closeModalBtn.addEventListener('click', () => {
    playlistModal.classList.remove('visible');
  });

  playlistButtons.forEach((btn, i) => {
    btn.addEventListener('click', () => {
      playTrack(i);
    });
  });

  // Şarkı arama
  const searchInput = document.getElementById('searchSongs');
  searchInput.addEventListener('input', e => {
    filterSongs(e.target.value);
  });
  function filterSongs(query) {
    query = query.toLowerCase().trim();
    playlistButtons.forEach(btn => {
      const txt = btn.textContent.toLowerCase();
      btn.style.display = txt.includes(query) ? 'flex' : 'none';
    });
  }

  themeToggle.addEventListener('click', () => {
    body.classList.toggle('theme2');
  });

  // Klavye kısayolları
  document.addEventListener('keydown', e => {
    if(currentIndex === -1) return;
    if(e.target.tagName.toLowerCase() === 'input') return;
    switch(e.key) {
      case ' ':
        e.preventDefault();
        if(music.paused) {
          music.play();
          musicBtn.innerHTML = '<i class="fas fa-pause"></i>';
        } else {
          music.pause();
          musicBtn.innerHTML = '<i class="fas fa-play"></i>';
        }
        break;
      case 'ArrowRight':
        music.currentTime = Math.min(music.currentTime + 5, music.duration);
        break;
      case 'ArrowLeft':
        music.currentTime = Math.max(music.currentTime - 5, 0);
        break;
    }
  });

</script>

</body>
</html>
