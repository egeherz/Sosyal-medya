<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>HESAPLARIM - EGE DENİZ</title>
<link rel="icon" href="favicon.png" type="image/png" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
  /* Reset */
  * {
    box-sizing: border-box;
    margin: 0; padding: 0;
  }
  html, body {
    height: 100%;
    width: 100%;
    font-family: 'Poppins', sans-serif;
    background: url('https://i.imgur.com/yslsfnW.jpeg') no-repeat center center fixed;
    background-size: cover;
    color: #fff;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    padding: 40px 20px 80px;
    overflow-x: hidden;
    transition: background 0.6s ease;
  }
  body.theme2 {
    background: url('https://i.imgur.com/0R4Zsdr.jpeg') no-repeat center center fixed;
    background-size: cover;
    color: #222;
  }

  main {
    margin-top: 40px;
    max-width: 440px;
    width: 100%;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    background: rgba(0,0,0,0.25);
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,0.15);
    box-shadow: 0 0 25px rgba(0,255,255,0.15);
    padding: 28px 24px;
    animation: slideFadeIn 1.2s ease-out;
    z-index: 1;
  }
  @keyframes slideFadeIn {
    from { opacity: 0; transform: translateY(60px);}
    to {opacity: 1; transform: translateY(0);}
  }
  main a, main button {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-weight: 700;
    font-size: 1.15rem;
    text-decoration: none;
    color: inherit;
    padding: 16px 0;
    border-radius: 14px;
    background: linear-gradient(45deg, #ff004f, #6600ff, #00e5ff, #ff004f);
    background-size: 300% 300%;
    animation: gradientShift 6s ease infinite;
    box-shadow:
      0 0 8px #ff004f,
      0 0 16px #6600ff,
      0 0 24px #00e5ff,
      inset 0 0 8px #6600ff;
    cursor: pointer;
    user-select: none;
    border: none;
    transition: all 0.3s ease;
    border: 2px solid transparent;
  }
  main a:hover, main button:hover {
    transform: scale(1.07) rotate(2deg);
    box-shadow:
      0 0 18px #ff005f,
      0 0 36px #7700ff,
      0 0 48px #00e5ff,
      inset 0 0 18px #7700ff;
    text-shadow: 0 0 24px #fff;
  }
  main a i, main button i {
    font-size: 1.7rem;
    text-shadow: 0 0 8px #fff;
    min-width: 28px;
    text-align: center;
  }
  @keyframes gradientShift {
    0% { background-position: 0% 50%;}
    50% { background-position: 100% 50%;}
    100% { background-position: 0% 50%;}
  }

  /* Footer */
  footer {
    position: fixed;
    bottom: 8px;
    width: 100%;
    text-align: center;
    font-size: 0.95rem;
    color: rgba(255,255,255,0.75);
    text-shadow: 0 0 5px #000;
    user-select: none;
    z-index: 1000;
  }
  body.theme2 footer {
    color: rgba(30,30,30,0.85);
    text-shadow: 0 0 4px #fff;
  }

  /* Tema değiştirme butonu */
  #themeToggle {
    position: fixed;
    bottom: 70px;
    right: 20px;
    background: linear-gradient(45deg, #00e5ff, #6600ff, #ff004f);
    border: none;
    border-radius: 50%;
    width: 48px;
    height: 48px;
    cursor: pointer;
    box-shadow: 0 0 16px #00e5ff;
    color: white;
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.4s ease;
    z-index: 1100;
  }
  #themeToggle:hover {
    background: linear-gradient(45deg, #ff004f, #00e5ff, #6600ff);
  }
  body.theme2 #themeToggle {
    box-shadow: 0 0 18px #6600ff;
    color: #222;
  }

  /* Player UI */
  #playerUI {
    display: none;
    position: fixed;
    bottom: 110px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.65);
    backdrop-filter: blur(12px);
    border-radius: 16px;
    box-shadow: 0 0 24px #00e5ff;
    padding: 14px 22px;
    width: 420px;
    max-width: 95vw;
    display: flex;
    align-items: center;
    gap: 18px;
    color: #fff;
    user-select: none;
    z-index: 1050;
  }
  body.theme2 #playerUI {
    background: rgba(255,255,255,0.85);
    color: #222;
    box-shadow: 0 0 24px #6600ff;
  }

  #currentTrackName {
    flex: 1;
    font-weight: 700;
    font-size: 1rem;
    user-select: text;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    cursor: default;
  }

  /* Player controls */
  .player-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    color: inherit;
    font-size: 1.5rem;
    padding: 6px 8px;
    border-radius: 8px;
    transition: background 0.2s ease;
  }
  .player-btn:hover {
    background: rgba(255,255,255,0.2);
  }
  body.theme2 .player-btn:hover {
    background: rgba(0,0,0,0.1);
  }

  /* Progress bar */
  #progressContainer {
    position: relative;
    flex: 2;
    height: 10px;
    background: rgba(255,255,255,0.2);
    border-radius: 8px;
    cursor: pointer;
    user-select: none;
    box-shadow: inset 0 0 6px rgba(0,0,0,0.5);
  }
  #progress {
    height: 100%;
    background: #00e5ff;
    width: 0%;
    border-radius: 8px;
    box-shadow: 0 0 10px #00e5ff;
    transition: width 0.2s linear;
  }
  #progressThumb {
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 18px;
    height: 18px;
    background: #00e5ff;
    border-radius: 50%;
    box-shadow: 0 0 10px #00e5ff;
    cursor: pointer;
    user-select: none;
    transition: background 0.3s ease;
  }
  #progressThumb:hover {
    background: #66ffff;
  }
  body.theme2 #progress {
    background: #6600ff;
    box-shadow: 0 0 12px #6600ff;
  }
  body.theme2 #progressThumb {
    background: #6600ff;
  }
  body.theme2 #progressThumb:hover {
    background: #9966ff;
  }

  /* Time display */
  #timeDisplay {
    min-width: 90px;
    text-align: right;
    font-family: monospace;
    font-weight: 600;
    user-select: none;
  }

  /* Modal arka plan koyulaşması */
  dialog::backdrop {
    background: rgba(0,0,0,0.8);
    backdrop-filter: blur(6px);
    z-index: 1040;
  }

  /* Şarkı Listesi Modal */
  #playlistModal {
    border: none;
    border-radius: 18px;
    padding: 24px 24px 18px;
    width: 400px;
    max-width: 95vw;
    background: rgba(0,0,0,0.8);
    color: #fff;
    box-shadow: 0 0 24px #00e5ff;
    font-weight: 700;
  }
  body.theme2 #playlistModal {
    background: rgba(255,255,255,0.9);
    color: #222;
    box-shadow: 0 0 24px #6600ff;
  }

  #playlistModal h2 {
    font-weight: 900;
    font-size: 1.4rem;
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    gap: 8px;
    user-select: none;
  }
  #playlistModal h2 .beta-tag {
    background: #ff004f;
    padding: 2px 8px;
    font-size: 0.8rem;
    border-radius: 12px;
    color: white;
    font-weight: 900;
    box-shadow: 0 0 10px #ff004f;
  }

  #playlistModal p.info-text {
    font-weight: 500;
    font-size: 0.9rem;
    color: #ddd;
    margin-bottom: 18px;
  }
  body.theme2 #playlistModal p.info-text {
    color: #555;
  }

  #songList {
    max-height: 320px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
    user-select: none;
  }

  #songList button.songBtn {
    background: linear-gradient(45deg, #ff004f, #6600ff, #00e5ff, #ff004f);
    background-size: 300% 300%;
    color: white;
    border: none;
    border-radius: 12px;
    padding: 12px 14px;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    text-align: left;
    transition: background-position 5s ease;
  }
  #songList button.songBtn:hover {
    background-position: 100% 50%;
  }
  body.theme2 #songList button.songBtn {
    background: linear-gradient(45deg, #6600ff, #9966ff, #aa99ff, #6600ff);
    background-size: 300% 300%;
    color: #222;
  }

  /* Arama kutusu */
  #searchSongs {
    width: 100%;
    padding: 10px 14px;
    border-radius: 14px;
    border: none;
    margin-bottom: 14px;
    font-weight: 600;
    font-size: 1rem;
  }
  #searchSongs:focus {
    outline: 3px solid #00e5ff;
  }
  body.theme2 #searchSongs:focus {
    outline-color: #6600ff;
  }

  /* Kapat butonu */
  #closeModalBtn {
    margin-top: 16px;
    background: #ff004f;
    background: linear-gradient(45deg, #ff004f, #ff005f, #ff007f);
    box-shadow: 0 0 20px #ff004f;
    border: none;
    color: white;
    font-weight: 700;
    font-size: 1.1rem;
    padding: 12px 0;
    width: 100%;
    border-radius: 16px;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  #closeModalBtn:hover {
    background: #ff1a6f;
  }

  /* Responsive */
  @media(max-width: 520px){
    main {
      grid-template-columns: 1fr 1fr;
      max-width: 100%;
      padding: 20px 14px;
      gap: 16px;
    }
    main a, main button {
      font-size: 1rem;
      padding: 14px 0;
    }
    main a i, main button i {
      font-size: 1.4rem;
      min-width: 24px;
    }
    #playerUI {
      width: 90vw;
      bottom: 90px;
    }
  }
</style>
</head>
<body>

<main id="mainButtons">
  <a href="https://instagram.com/10110310132100101110105l22" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i>Instagram</a>
  <a href="https://t.me/l0110310132100101110105122" target="_blank" aria-label="Telegram"><i class="fab fa-telegram"></i>Telegram</a>
  <a href="https://www.tiktok.com/@010169716901l7" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i>TikTok</a>
  <button id="openPlaylistBtn" aria-haspopup="dialog" aria-expanded="false" aria-controls="playlistModal"><i class="fas fa-music"></i>Şarkı Listesi</button>
</main>

<!-- Player UI -->
<div id="playerUI" role="region" aria-label="Müzik oynatıcı kontrolü">
  <button id="prevBtn" class="player-btn" aria-label="Önceki şarkı"><i class="fas fa-backward"></i></button>
  <button id="playPauseBtn" class="player-btn" aria-label="Oynat / Durdur"><i class="fas fa-play"></i></button>
  <button id="stopBtn" class="player-btn" aria-label="Durdur"><i class="fas fa-stop"></i></button>
  <button id="nextBtn" class="player-btn" aria-label="Sonraki şarkı"><i class="fas fa-forward"></i></button>
  <div id="currentTrackName" aria-live="polite" aria-atomic="true" title="Şu an çalan şarkı">Şarkı ismine tıklayarak dinlemeye başlayabilirsiniz. Daha fazla eklenecektir 🥳.</div>
  <div id="progressContainer" role="slider" tabindex="0" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="Şarkı ilerleme çubuğu">
    <div id="progress"></div>
    <div id="progressThumb" tabindex="0" aria-label="İlerleme çubuğu tutamağı"></div>
  </div>
  <div id="timeDisplay" aria-live="polite" aria-atomic="true" title="Şarkı süresi">00:00 / 00:00</div>
</div>

<!-- Şarkı listesi modal -->
<dialog id="playlistModal" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc">
  <h2 id="modalTitle">Beta ⚠️</h2>
  <p id="modalDesc" class="info-text">Şarkı ismine tıklayarak dinlemeye başlayabilirsiniz. Daha fazla eklenecektir 🥳.</p>
  <input type="search" id="searchSongs" aria-label="Şarkı ara" placeholder="Şarkı ara..." />
  <div id="songList" role="list"></div>
  <button id="closeModalBtn" aria-label="Kapat şarkı listesi">Kapat</button>
</dialog>

<footer>
  Tüm hakları saklıdır. © 2025 Ege Deniz.
</footer>

<button id="themeToggle" aria-label="Tema değiştir" title="Tema değiştir" aria-pressed="false"><i class="fas fa-adjust"></i></button>

<audio id="bgMusic" preload="metadata"></audio>

<script>
  // Şarkılar
  const songs = [
    {name:"Juice WRLD - Let Me Know", src:"Juice WRLD Let Me Know (I Wonder Why Freestyle) (Official Audio).mp3"},
    {name:"Doja Cat - Streets", src:"Doja Cat - Streets (Official Audio).mp3"},
    {name:"lliinnee", src:"lliinnee.mp3"},
    {name:"Lana Del Rey - Summertime Sadness", src:"Lana Del Rey - Summertime Sadness (Official Music Video).mp3"},
    {name:"Nicky Jam - Hasta el Amanecer", src:"22. Hasta el Amanecer - Nicky Jam  Video Oficial.mp3"},
    {name:"Amor Na Praia", src:"Amor Na Praia.mp3"},
    {name:"Smezir 2 (Slowed)", src:"smezir 2 (Super Slowed).mp3"},
    {name:"Djo - End Of Beginning", src:"Djo - End Of Beginning (Official Audio).mp3"},
    {name:"Twenty One Pilots - Doubt", src:"twenty-one-pilots-Doubt-_Official-Audio_.mp3"},
    {name:"lil 17th - Mary Jane", src:"lil 17th - Mary Jane.mp3"},
    {name:"XXXTENTACION - MOONLIGHT", src:"XXXTENTACION - MOONLIGHT (OFFICIAL MUSIC VIDEO).mp3"},
    {name:"t.A.T.u. - All The Things She Said", src:"t.A.T.u. - All The Things She Said (Official Music Video).mp3"},
    {name:"Tame Impala - Let It Happen", src:"tame_impala_let_it_happen_mp3_55159.mp3"},
    {name:"Funk - Mi Camino", src:"funk_mi_camino_mp3_55239.mp3"}
  ];

  // Elements
  const bgMusic = document.getElementById("bgMusic");
  const playPauseBtn = document.getElementById("playPauseBtn");
  const stopBtn = document.getElementById("stopBtn");
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const currentTrackName = document.getElementById("currentTrackName");
  const progressContainer = document.getElementById("progressContainer");
  const progress = document.getElementById("progress");
  const progressThumb = document.getElementById("progressThumb");
  const timeDisplay = document.getElementById("timeDisplay");
  const playerUI = document.getElementById("playerUI");
  const playlistModal = document.getElementById("playlistModal");
  const songListDiv = document.getElementById("songList");
  const openPlaylistBtn = document.getElementById("openPlaylistBtn");
  const closeModalBtn = document.getElementById("closeModalBtn");
  const themeToggleBtn = document.getElementById("themeToggle");
  const mainButtons = document.getElementById("mainButtons");

  // State
  let currentSongIndex = localStorage.getItem('lastSongIndex') ? Number(localStorage.getItem('lastSongIndex')) : -1;
  let isPlaying = false;
  let isDragging = false;
  let currentTheme = localStorage.getItem('theme') || 'theme1';

  // Initialize theme
  if(currentTheme === 'theme2') {
    document.body.classList.add('theme2');
    themeToggleBtn.setAttribute('aria-pressed', 'true');
  }

  // Load last song if any
  if(currentSongIndex >= 0 && songs[currentSongIndex]){
    loadSong(currentSongIndex);
  } else {
    currentTrackName.textContent = "Şarkı ismine tıklayarak dinlemeye başlayabilirsiniz. Daha fazla eklenecektir 🥳.";
  }

  // Build song list inside modal
  function buildSongList(filter='') {
    songListDiv.innerHTML = '';
    const filteredSongs = songs.filter(s => s.name.toLowerCase().includes(filter.toLowerCase()));
    if(filteredSongs.length === 0){
      songListDiv.innerHTML = '<p style="font-weight:600;opacity:0.7;">Şarkı bulunamadı.</p>';
      return;
    }
    filteredSongs.forEach((song, idx) => {
      const btn = document.createElement('button');
      btn.classList.add('songBtn');
      btn.textContent = song.name;
      btn.setAttribute('data-index', songs.indexOf(song));
      btn.onclick = () => {
        currentSongIndex = songs.indexOf(song);
        loadSong(currentSongIndex);
        playSong();
        closeModal();
      };
      songListDiv.appendChild(btn);
    });
  }
  buildSongList();

  // Search filter
  document.getElementById('searchSongs').addEventListener('input', (e) => {
    buildSongList(e.target.value);
  });

  // Load song
  function loadSong(index) {
    if(index < 0 || index >= songs.length) return;
    bgMusic.src = songs[index].src;
    currentTrackName.textContent = songs[index].name;
    localStorage.setItem('lastSongIndex', index);
    resetProgress();
    showPlayer();
  }

  // Play
  function playSong() {
    bgMusic.play();
    isPlaying = true;
    playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
  }

  // Pause
  function pauseSong() {
    bgMusic.pause();
    isPlaying = false;
    playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
  }

  // Toggle play/pause
  playPauseBtn.addEventListener('click', () => {
    if(isPlaying) {
      pauseSong();
    } else {
      playSong();
    }
  });

  // Stop
  stopBtn.addEventListener('click', () => {
    pauseSong();
    bgMusic.currentTime = 0;
  });

  // Prev song
  prevBtn.addEventListener('click', () => {
    currentSongIndex--;
    if(currentSongIndex < 0) currentSongIndex = songs.length -1;
    loadSong(currentSongIndex);
    playSong();
  });

  // Next song
  nextBtn.addEventListener('click', () => {
    currentSongIndex++;
    if(currentSongIndex >= songs.length) currentSongIndex = 0;
    loadSong(currentSongIndex);
    playSong();
  });

  // When song ends auto next
  bgMusic.addEventListener('ended', () => {
    nextBtn.click();
  });

  // Progress bar update
  bgMusic.addEventListener('timeupdate', () => {
    if(!isDragging) {
      const progressPercent = (bgMusic.currentTime / bgMusic.duration) * 100 || 0;
      progress.style.width = progressPercent + '%';
      progressContainer.setAttribute('aria-valuenow', Math.floor(progressPercent));
      timeDisplay.textContent = formatTime(bgMusic.currentTime) + ' / ' + formatTime(bgMusic.duration);
      // Move thumb
      progressThumb.style.left = progressPercent + '%';
    }
  });

  // Progress bar drag logic
  function seek(e) {
    const rect = progressContainer.getBoundingClientRect();
    const offsetX = e.clientX - rect.left;
    let percentage = offsetX / rect.width;
    if(percentage < 0) percentage = 0;
    if(percentage > 1) percentage = 1;
    bgMusic.currentTime = percentage * bgMusic.duration;
  }
  // Mouse drag on progress bar
  let mouseDown = false;
  progressContainer.addEventListener('mousedown', (e) => {
    mouseDown = true;
    seek(e);
  });
  window.addEventListener('mouseup', () => {
    if(mouseDown) mouseDown = false;
  });
  window.addEventListener('mousemove', (e) => {
    if(mouseDown) seek(e);
  });

  // Keyboard support on slider (left/right arrows)
  progressContainer.addEventListener('keydown', (e) => {
    if(bgMusic.duration){
      if(e.key === "ArrowLeft") {
        bgMusic.currentTime = Math.max(bgMusic.currentTime - 5, 0);
      } else if(e.key === "ArrowRight") {
        bgMusic.currentTime = Math.min(bgMusic.currentTime + 5, bgMusic.duration);
      }
    }
  });

  // Format seconds to mm:ss
  function formatTime(seconds) {
    if(isNaN(seconds)) return '00:00';
    const m = Math.floor(seconds / 60);
    const s = Math.floor(seconds % 60);
    return `${m<10?'0'+m:m}:${s<10?'0'+s:s}`;
  }

  // Show player UI
  function showPlayer(){
    playerUI.style.display = 'flex';
  }

  // Hide player UI
  function hidePlayer(){
    playerUI.style.display = 'none';
    currentTrackName.textContent = "Şarkı ismine tıklayarak dinlemeye başlayabilirsiniz. Daha fazla eklenecektir 🥳.";
    progress.style.width = '0%';
    timeDisplay.textContent = '00:00 / 00:00';
  }

  // Modal open/close
  openPlaylistBtn.addEventListener('click', () => {
    playlistModal.showModal();
    openPlaylistBtn.setAttribute('aria-expanded','true');
  });
  closeModalBtn.addEventListener('click', closeModal);
  function closeModal(){
    playlistModal.close();
    openPlaylistBtn.setAttribute('aria-expanded','false');
  }

  // Theme toggle
  themeToggleBtn.addEventListener('click', () => {
    if(document.body.classList.contains('theme2')){
      document.body.classList.remove('theme2');
      currentTheme = 'theme1';
      themeToggleBtn.setAttribute('aria-pressed', 'false');
    } else {
      document.body.classList.add('theme2');
      currentTheme = 'theme2';
      themeToggleBtn.setAttribute('aria-pressed', 'true');
    }
    localStorage.setItem('theme', currentTheme);
  });

  // Sayfa yüklendiğinde eğer şarkı seçiliyse player göster
  if(currentSongIndex >= 0 && songs[currentSongIndex]) {
    showPlayer();
  }

  // Eğer şarkı yoksa player gizle
  bgMusic.addEventListener('pause', () => {
    if(bgMusic.currentTime === 0){
      hidePlayer();
    }
  });

</script>

</body>
</html>
